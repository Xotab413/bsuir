<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="11%20Организация%20ввода-вывода.files/filelist.xml">
<link rel=Edit-Time-Data
href="11%20Организация%20ввода-вывода.files/editdata.mso">
<link rel=OLE-Object-Data
href="11%20Организация%20ввода-вывода.files/oledata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Организация ввода-вывода</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>KEV</o:Author>
  <o:LastAuthor>KEV</o:LastAuthor>
  <o:Revision>7</o:Revision>
  <o:TotalTime>7</o:TotalTime>
  <o:Created>2011-04-06T17:47:00Z</o:Created>
  <o:LastSaved>2011-04-06T20:26:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1592</o:Words>
  <o:Characters>9080</o:Characters>
  <o:Company>HOME</o:Company>
  <o:Lines>75</o:Lines>
  <o:Paragraphs>21</o:Paragraphs>
  <o:CharactersWithSpaces>10651</o:CharactersWithSpaces>
  <o:Version>11.6568</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"\FF2D\FF33 \660E\671D";
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:19.85pt;
	mso-pagination:none;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h2
	{mso-style-next:Обычный;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:36.0pt;
	mso-pagination:widow-orphan lines-together;
	mso-outline-level:2;
	font-size:14.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-bidi-font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
h3
	{mso-style-next:Обычный;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:19.85pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:14.0pt;
	font-family:"Times New Roman";
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-noshow:yes;
	mso-style-next:Обычный;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	text-indent:19.85pt;
	mso-pagination:none;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-weight:bold;
	mso-bidi-font-style:italic;}
p.MsoBodyTextIndent2, li.MsoBodyTextIndent2, div.MsoBodyTextIndent2
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:19.85pt;
	mso-pagination:none;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=RU style='tab-interval:35.4pt'>

<div class=Section1>

<h2 align=center style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm;text-align:center;text-indent:0cm'><a name="_Toc516651344"></a><a
name="_Toc516652089"></a><a name="_Toc519256604"></a><a name="_Toc54192036"></a><a
name="_Toc54192152"></a><a name="_Toc54192401"></a><a name="_Toc54192634"></a><a
name="_Toc54193378"></a><a name="_Toc54855918"></a><a name="_Toc54861097"></a><a
name="_Toc55028922"></a><a name="_Toc79847806"></a><a name="_Toc117269070"><span
style='mso-bookmark:_Toc79847806'><span style='mso-bookmark:_Toc55028922'><span
style='mso-bookmark:_Toc54861097'><span style='mso-bookmark:_Toc54855918'><span
style='mso-bookmark:_Toc54193378'><span style='mso-bookmark:_Toc54192634'><span
style='mso-bookmark:_Toc54192401'><span style='mso-bookmark:_Toc54192152'><span
style='mso-bookmark:_Toc54192036'><span style='mso-bookmark:_Toc519256604'><span
style='mso-bookmark:_Toc516652089'><span style='mso-bookmark:_Toc516651344'>Организация
ввода-вывода</span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Системы ввода-вывода<span class=GramE> С</span> и С++ основываются на
понятии потока. Поток в<span class=GramE> С</span>++ это абстрактное понятие,
относящееся к переносу информации от источника к приемнику. В языке<span
class=GramE> С</span>++ реализованы 2 иерархии классов, обеспечивающих операции
ввода-вывода, базовыми классами которых являются <span class=SpellE>streambuf</span>
и <span class=SpellE>ios</span>. На рис.6 приведена диаграмма классов, базовым
для которых является <span class=SpellE>ios</span> (рис. 6).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><!--[if gte vml 1]><v:shapetype id="_x0000_t75" coordsize="21600,21600"
 o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f"
 stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:495.75pt;
 height:312pt' o:ole="">
 <v:imagedata src="11%20Организация%20ввода-вывода.files/image002.wmz" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=661 height=416
src="11%20Организация%20ввода-вывода.files/image003.gif" v:shapes="_x0000_i1025"><![endif]><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Word.Document.8" ShapeID="_x0000_i1025"
  DrawAspect="Content" ObjectID="_1363633945">
  <o:WordFieldCodes>\s</o:WordFieldCodes>
 </o:OLEObject>
</xml><![endif]--><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span
style='mso-bidi-font-size:12.0pt'>В</span></span><span style='mso-bidi-font-size:
12.0pt'> <span class=GramE>С</span>++ используется достаточно гибкий способ
выполнения операций ввода-вывода классов с помощью перегрузки операторов
&lt;&lt; (вывода) и<span style='mso-spacerun:yes'>  </span>&gt;&gt; (ввода).
Операторы, перегружающие эти операции, обычно называют <span class=SpellE>инсертером</span>
и экстрактором.<span style='mso-spacerun:yes'>  </span>Для обеспечения работы с
потоками ввода-вывода необходимо включить файл <span class=SpellE>iostream.h</span>,
содержащий класс <span class=SpellE>iostream</span>. Этот класс является
производным от ряда классов, таких как <span class=SpellE>ostream</span>,
обеспечивающего вывод<span style='mso-spacerun:yes'>  </span>данных в поток, и <span
class=SpellE>istream</span> - соответственно чтения из потока. Приводимый ниже
пример показывает, как можно перегрузить оператор ввода-вывода для произвольных
классов. <o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt;text-indent:0cm'><span lang=EN-US style='font-family:"Courier New";
mso-ansi-language:EN-US'>#include &quot;<span class=SpellE>iostream.h</span>&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>cls</span><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>char</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> c;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>short</span> <span
class=SpellE>i</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>public :</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=SpellE>cls</span>(char <span
class=SpellE>C,short</span> I ) : c(C), <span class=SpellE>i</span>(I){}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>~<span class=SpellE><span class=GramE>cls</span></span><span
class=GramE>(</span>){}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>friend</span> <span
class=SpellE>ostream</span> &amp;operator&lt;&lt;(<span class=SpellE>ostream</span>
&amp;,const <span class=SpellE>cls</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>friend</span> <span
class=SpellE>istream</span> &amp;operator&gt;&gt;(<span class=SpellE>istream</span>
&amp;,<span class=SpellE>cls</span> &amp;);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:6.0pt;margin-right:0cm;
margin-bottom:6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
class=GramE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>ostream</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> &amp;operator&lt;&lt;(<span class=SpellE>ostream</span> &amp;<span
class=SpellE>out,const</span> <span class=SpellE>cls</span> <span class=SpellE>obj</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ out</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> &lt;&lt; <span
class=SpellE>obj.c</span>&lt;&lt;<span class=SpellE>obj.i</span> &lt;&lt; <span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>return</span> out;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:6.0pt;margin-right:0cm;
margin-bottom:6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
class=GramE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>istream</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> &amp;operator&gt;&gt;(<span class=SpellE>istream</span> &amp;<span
class=SpellE>in,cls</span> &amp;<span class=SpellE>obj</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ in</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> &gt;&gt; <span
class=SpellE>obj.st</span>&gt;&gt;<span class=SpellE>obj.i</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>return</span> in;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:6.0pt;margin-right:0cm;
margin-bottom:6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>main()</span></span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ <span class=SpellE>cls</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> s(’a’,10),<span class=SpellE>ss</span>(’ ’,0);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span></span><span class=GramE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>с</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>out&lt;&lt;&quot;<span class=SpellE>abc</span>&quot;&lt;&lt;<span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;s&lt;&lt;<span
class=SpellE>ss</span>&lt;&lt;<span class=SpellE>endl</span>;<span
style='mso-spacerun:yes'>      </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>cin</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> &gt;&gt; <span
class=SpellE>ss</span>;<span style='mso-spacerun:yes'>                      
</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span><span
class=SpellE>return</span> 0;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Общая форма функции перегрузки оператора ввода-вывода имеет вид:<span
style='mso-spacerun:yes'>        </span><o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><b><span
style='mso-bidi-font-size:12.0pt'>istream</span></b></span><b><span
style='mso-bidi-font-size:12.0pt'> &amp;<span class=SpellE>operator</span>&gt;&gt;(<span
class=SpellE>istream</span> &amp;<span class=SpellE>поток<span class=GramE>,и</span>мя_класса</span>
&amp;объект)<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><b><span
style='mso-bidi-font-size:12.0pt'>ostream</span></b></span><b><span
style='mso-bidi-font-size:12.0pt'> &amp;<span class=SpellE>operator</span>&lt;&lt;(<span
class=SpellE>ostream</span> &amp;<span class=SpellE>поток,const</span> <span
class=SpellE>имя_класса</span><span style='mso-spacerun:yes'> 
</span>объект)<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></b></p>

<p class=MsoBodyTextIndent2 style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span
style='mso-bidi-font-size:12.0pt'>Как видно, функция принимает в качестве
аргумента и возвращает ссылку на поток. В результате доопределенный оператор
можно применить последовательно к нескольким операндам<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>cout</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> &lt;&lt;<span
class=SpellE>s</span>&lt;&lt;<span class=SpellE>ss</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Это</span><span style='mso-bidi-font-size:12.0pt;mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt'>соответствует</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>(<span class=SpellE>cout.operator</span>&lt;<span
class=GramE>&lt;(</span>a)).operator&lt;&lt;(b);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В приведенном примере функция <span class=SpellE>operator</span> не
является компонентом класса <span class=SpellE>cls</span>, так как левым
аргументом (в списке параметров) такой функции должен быть this-указатель для
объекта, инициирующего перегрузку. Доступ к private-данным класса <span
class=SpellE>cls</span> осуществляется через friend-функцию <span class=SpellE>operator</span>
этого класса. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Рассмотрим использование перегрузки операторов &lt;&lt; и &gt;&gt; для
определения новых манипуляторов. Ранее мы рассмотрели использование стандартных
манипуляторов форматирования выводимой информации. Однако можно определить и
новые манипуляторы без изменения <span class=GramE>стандартных</span>. В
качестве примера рассмотрим переопределение <b style='mso-bidi-font-weight:
normal'>манипулятора с параметрами,</b><span style='mso-spacerun:yes'> 
</span>задающего для выводимого дробного числа ширину поля и точность.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'>#include&lt;<span class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'>class</span></b></span><b><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'> <span
class=SpellE>manip</span><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'>{<span style='mso-spacerun:yes'>  </span><span
class=SpellE>int</span></span></span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'> <span class=SpellE>n,m</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>ostream</span></span> &amp; (*f)(<span
class=SpellE>ostream&amp;,int,int</span>) ;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'> </span><span
class=GramE>public</span>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>    </span><span
class=SpellE><span class=GramE>manip</span></span><span class=GramE>(</span><span
class=SpellE>ostream</span>&amp; (*F)(<span class=SpellE>ostream&amp;,int,int</span>),
<span class=SpellE>int</span> N, <span class=SpellE>int</span> M) : <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-tab-count:1'>    </span><span
style='mso-spacerun:yes'>     </span><span class=GramE>f(</span>F), n(N), m(M)
{} <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>    </span><span
class=GramE>friend</span> <span class=SpellE>ostream</span>&amp;
operator&lt;&lt;(<span class=SpellE>ostream</span>&amp; s, const <span
class=SpellE>manip</span>&amp; <span class=SpellE>obj</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>    </span>{<span
class=GramE>return</span> <span class=SpellE>obj.f</span>(<span class=SpellE>s,obj.n,obj.m</span>);}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'>ostream</span></span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'>&amp; <span
class=SpellE>f_man</span>(<span class=SpellE>ostream</span> &amp; <span
class=SpellE>s,int</span> <span class=SpellE>n,int</span> m)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'>{ <span class=SpellE>s.width</span></span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'>(n);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>   </span><span
class=SpellE><span class=GramE>s.flags</span></span><span class=GramE>(</span><span
class=SpellE>ios::fixed</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>   </span><span
class=SpellE><span class=GramE>s.precision</span></span><span class=GramE>(</span>m);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>   </span><span
class=GramE>return</span> s;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'>manip</span></span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'> <span
class=SpellE>wp</span>(<span class=SpellE>int</span> <span class=SpellE>n,int</span>
m)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'>{ return</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'> <span class=SpellE>manip</span>(<span
class=SpellE>f_man,n,m</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'>void</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'> main(void)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-fareast-font-family:
"MS Mincho";mso-ansi-language:EN-US'>{ <span class=SpellE>cout</span></span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'>&lt;&lt; 2.3456
&lt;&lt; <span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>   </span></span><span
class=SpellE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-fareast-font-family:"MS Mincho"'>cout</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-fareast-font-family:"MS Mincho"'>&lt;&lt;<span
class=SpellE>wp</span>(8,1)&lt;&lt;2.3456 &lt;&lt; <span class=SpellE>endl</span>;
<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-fareast-font-family:"MS Mincho"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><i>Компонента-функция
<span class=SpellE>put</span> и вывод символов<o:p></o:p></i></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Компонента-функция <span class=SpellE>ostream::put</span>()
используется для вывода одиночного символа:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>char c=’a’;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span>.<span style='mso-spacerun:yes'>  
</span>.<span style='mso-spacerun:yes'>   </span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>cout.put</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>(c);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Вызовы функции <span class=SpellE>put</span>() могут быть сцеплены:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>cout.put</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>(c).<span class=GramE>put(</span>’b’).put(’\n’);
<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:0cm'><span style='mso-bidi-font-size:12.0pt'>в
этом случае на экран выведется буква <b style='mso-bidi-font-weight:normal'>а</b>,
затем <span class=SpellE><b style='mso-bidi-font-weight:normal'>b</b></span> и
далее символ новой строки. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><i><span
style='mso-bidi-font-size:12.0pt'>Компоненты-функции <span class=SpellE>get</span>
и <span class=SpellE>getline</span> для ввода символов.<o:p></o:p></span></i></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Функция <span class=SpellE>istream::get</span>() может быть
использована в нескольких вариантах.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><i
style='mso-bidi-font-style:normal'><span style='mso-bidi-font-size:12.0pt'>Первый
вариант</span></i></b><span style='mso-bidi-font-size:12.0pt'> – функция
используется без аргументов. Вводит символ из соответствующего потока одиночный
символ и возвращает его значение. Если из потока прочитан признак конца файла,
то <span class=SpellE>get</span> возвращает EOF. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include&lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>main(</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>void)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ char</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> c;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=SpellE><span class=GramE>cout</span></span>
&lt;&lt; </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>с</span><span
class=SpellE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>in.eof</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>()&lt;&lt; &quot;</span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>вводите</span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>текст</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>&quot; &lt;&lt; <span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>while(</span>(c=<span
class=SpellE>cin.get</span>())!=EOF)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=SpellE>cout.put</span>(c);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=SpellE><span class=GramE>cout</span></span>
&lt;&lt; <span class=SpellE>endl</span>&lt;&lt;<span class=SpellE>cin.eof</span>();<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>return</span> 0; }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В программе считывается из потока <span class=SpellE>cin</span>
очередной символ и выводится с помощью функции <span class=SpellE>put</span>.
При считывании признака конца файла завершается цикл <span class=SpellE>while</span>.
До и после цикла выводится значение <span class=SpellE>cin.eof</span>(), равное
<span class=SpellE>false</span> (выводится 0) до начала цикла и <span
class=SpellE>true</span> (выводится 1) после его окончания. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><i
style='mso-bidi-font-style:normal'><span style='mso-bidi-font-size:12.0pt'>Второй
вариант</span></i></b><span style='mso-bidi-font-size:12.0pt'> – когда функция <span
class=SpellE>get</span>() используется с одним символьным аргументом. Функция
возвращает <span class=SpellE>false</span> при считывании признака конца файла,
иначе - ссылку на объект класса <span class=SpellE>istream</span>, для которого
вызывалась функция <span class=SpellE>get</span>. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>.<span style='mso-spacerun:yes'>  </span>.<span
style='mso-spacerun:yes'>  </span>.<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><span class=GramE>while(</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>с</span><span
class=SpellE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>in.get</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>(</span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>с</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>))<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><span class=SpellE>cout.put</span>(c);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-top:6.0pt;margin-right:0cm;
margin-bottom:6.0pt;margin-left:0cm;text-align:left;text-indent:36.0pt'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>   </span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-weight:
bold'>.<span style='mso-spacerun:yes'>  </span>.<span
style='mso-spacerun:yes'>  </span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>При <b style='mso-bidi-font-weight:normal'><i style='mso-bidi-font-style:
normal'>третьем варианте</i></b> функция <span class=SpellE>get</span>()
принимает три параметра: указатель на символьный массив (строку), максимальное
число символов и ограничитель ввода (по умолчанию ’\<span class=SpellE>n</span>’).
Ввод прекращается, когда считано число символов на один меньшее <span
class=GramE>максимального</span> или считан символ-ограничитель. При этом <span
class=GramE>в</span> вводимую строку добавляется нуль-символ.
Символ-ограничитель из входного потока не удаляется, это при повторном вызове
функции <span class=SpellE>get</span> приведет к формированию пустой строки.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span><span
class=GramE>с</span></span><span class=SpellE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>har</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> s[30];<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span>.<span style='mso-spacerun:yes'> 
</span>.<span style='mso-spacerun:yes'>  </span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span></span><span class=GramE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>с</span></span><span
class=SpellE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>in.get</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>(s,20))<span style='mso-spacerun:yes'>            </span>// </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>аналогично</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> <span class=SpellE>cin.get</span>(s,20,’\n’)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>cout</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>&lt;&lt;<span
class=SpellE>s</span>&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span><span
style='mso-bidi-font-weight:bold'>.<span style='mso-spacerun:yes'> 
</span>.<span style='mso-spacerun:yes'>  </span>.<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Функция <span class=SpellE>isteram::getline</span>() действует
аналогично функции <span class=SpellE>get</span>() с тремя параметрами с тем
отличием, что символ-ограничитель удаляется <span class=GramE>из</span>
входного потока.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Ниже коротко рассмотрены другие функции-компоненты класса <span
class=SpellE>istream</span>.<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'><o:p>&nbsp;</o:p></p>

<h3 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm;text-indent:36.0pt'><a name="_Toc38620080"></a><a name="_Toc516651345"></a><a
name="_Toc516652090"></a><a name="_Toc519256605"></a><a name="_Toc54192037"></a><a
name="_Toc54192153"></a><a name="_Toc54192402"></a><a name="_Toc54192635"></a><a
name="_Toc54193379"></a><a name="_Toc54855919"></a><a name="_Toc54861098"></a><a
name="_Toc55028923"></a><a name="_Toc79847807"></a><a name="_Toc117269071"><span
style='mso-bookmark:_Toc79847807'><span style='mso-bookmark:_Toc55028923'><span
style='mso-bookmark:_Toc54861098'><span style='mso-bookmark:_Toc54855919'><span
style='mso-bookmark:_Toc54193379'><span style='mso-bookmark:_Toc54192635'><span
style='mso-bookmark:_Toc54192402'><span style='mso-bookmark:_Toc54192153'><span
style='mso-bookmark:_Toc54192037'><span style='mso-bookmark:_Toc519256605'><span
style='mso-bookmark:_Toc516652090'><span style='mso-bookmark:_Toc516651345'><span
style='mso-bookmark:_Toc38620080'><span style='mso-bidi-font-size:12.0pt;
mso-bidi-font-weight:normal;mso-bidi-font-style:normal'>Состояние потока</span></span></span></span></span></span></span></span></span></span></span></span></span></span></a></h3>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Потоки <span class=SpellE>istream</span> или <span class=SpellE>ostream</span>
имеют связанное с ними состояние. В классе <span class=SpellE>ios</span>,
базовом для классов <span class=SpellE>istream</span> и <span class=SpellE>ostream</span>,
имеется несколько <span class=SpellE>public</span> функций, позволяющих
проверять и устанавливать состояние потока:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>inline</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>int</span><span
style='mso-spacerun:yes'>  </span><span class=SpellE>ios::<b style='mso-bidi-font-weight:
normal'>bad</b></span>() const { return state &amp; <span class=SpellE>badbit</span>;
}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>inline</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>int</span><span
style='mso-spacerun:yes'>  </span><span class=SpellE>ios::<b style='mso-bidi-font-weight:
normal'>eof</b></span>() const { return state &amp; <span class=SpellE>eofbit</span>;
}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>inline</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>int</span><span
style='mso-spacerun:yes'>  </span><span class=SpellE>ios::<b style='mso-bidi-font-weight:
normal'>fail</b></span>() const { return state &amp; (<span class=SpellE>badbit</span>
| <span class=SpellE>failbit</span>); }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>inline</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>int</span><span
style='mso-spacerun:yes'>  </span><span class=SpellE>ios::<b style='mso-bidi-font-weight:
normal'>good</b></span>() const { return state == 0; }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Состояние потока фиксируется в элементах перечисления, объявленного в
классе <span class=SpellE>ios</span>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>public</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=SpellE><span class=GramE>enum</span></span>
<span class=SpellE>io_state</span> {<span style='mso-spacerun:yes'>  </span><span
class=SpellE>goodbit</span> = 0x00,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>                     </span><span class=SpellE><span
class=GramE>eofbit</span></span><span class=GramE><span
style='mso-spacerun:yes'>  </span>=</span> 0x01,<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'><span lang=EN-US style='font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span
style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>                 </span><span class=SpellE>failbit</span>
= 0x02,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>                     </span><span class=SpellE><span
class=GramE>badbit</span></span><span class=GramE><span
style='mso-spacerun:yes'>  </span>=</span> 0x04 };<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Кроме отмеченных выше функций в классе <span class=SpellE>ios</span>
есть еще несколько функций, позволяющих прочитать (<span class=SpellE>rdstate</span>)
и очистить (<span class=SpellE>clear</span>) состояние потока:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>inline</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>int</span>
<span class=SpellE>ios::<b style='mso-bidi-font-weight:normal'>rdstate</b></span>()
const { return state; }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>inline</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> void <span class=SpellE>ios::<b
style='mso-bidi-font-weight:normal'>clear</b></span>(<span class=SpellE>int</span>
_<span class=SpellE>i</span>=0){ lock(); state = _<span class=SpellE>i</span>;
unlock(); }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Так, если было установлено состояние ошибки, то попытка выполнить
ввод/вывод будет игнорироваться до тех пор, пока не будет устранена причина
ошибки и биты ошибки не будут сброшены функцией <span class=SpellE>clear</span>().
<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt;text-indent:0cm'><span lang=EN-US style='font-family:"Courier New";
mso-ansi-language:EN-US'>#include &quot;<span class=SpellE>iostream.h</span>&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>main()</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ <span class=SpellE>int</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=SpellE>i</span>,
flags;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span><span class=GramE>char<span
style='mso-spacerun:yes'>  </span>c</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span><span class=GramE>do{</span> <span
class=SpellE>cin</span> &gt;&gt; <span class=SpellE>i</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>         </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>flags=cin.rdstate</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>();<span
style='mso-spacerun:yes'>  </span>// чтение состояния потока<span
style='mso-spacerun:yes'>  </span><span class=SpellE>cin</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>         </span></span><span
class=GramE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>if(</span></span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>flags &amp; <span
class=SpellE>ios::failbit</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>         </span><span class=GramE>{ <span
class=SpellE>cout</span></span> &lt;&lt; &quot;error in stream&quot;&lt;&lt; <span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>            </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>cin.clear</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(0);<span
style='mso-spacerun:yes'>       </span>// сброс всех состояний потока<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>            </span><span
class=SpellE>cin</span>&gt;&gt;<span class=SpellE>c</span>;<span
style='mso-spacerun:yes'>              </span>// удаление не <span
class=SpellE>int</span> значения из потока <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>         </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>    </span><span
class=SpellE>else</span> <span class=SpellE>cout</span> &lt;&lt; <span
class=SpellE>i</span>&lt;&lt;<span class=SpellE>endl</span>; <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span><span
class=GramE>} <span class=SpellE>while</span>(<span class=SpellE>flags</span>);<span
style='mso-spacerun:yes'>         </span>// пока ошибка во входном потоке</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span><span
class=SpellE>return</span> 0;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В приведенном примере функция <span class=SpellE>cin.clear</span>(0)
выполняет сброс всех установленных бит ошибки. Если требуется сбросить,
например, только <span class=SpellE>badbit</span>, то <span class=SpellE>clear</span>(<span
class=SpellE>ios::badbit</span>). На примере ниже показано, что состояние
потока может быть проанализировано также при работе с файлами.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &quot;<span
class=SpellE>fstream.h</span>&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &quot;<span
class=SpellE>iostream.h</span>&quot; <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>main()</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ <span class=SpellE>ifstream</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> in(&quot;file&quot;);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=SpellE><span class=GramE>int</span></span>
state;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>char<span
style='mso-spacerun:yes'>  </span><span class=SpellE>ss</span></span>[10];<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>while(</span>1)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>{ state</span>=<span
class=SpellE>in.rdstate</span>();<span style='mso-spacerun:yes'>    </span>// </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>чтение</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>состояния</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>потока</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>  </span>in<span
style='mso-spacerun:yes'>    </span>(</span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>файла</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=GramE>if</span> (state)<span
style='mso-spacerun:yes'>                   </span>// </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>ошибка</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>в</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>потоке</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=GramE>{<span
style='mso-spacerun:yes'>  </span>if</span>(<span class=SpellE>state&amp;ios::badbit</span>)
<span class=SpellE>cout</span>&lt;&lt;&quot;</span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>ошибка</span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>открытия</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>файла</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>         </span><span class=GramE>else</span> if(<span
class=SpellE>state&amp;ios::eofbit</span>) <span class=SpellE>cout</span>&lt;&lt;&quot;</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>в</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>файле</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>  </span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>больше</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>нет</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>данных</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>         </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>return</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> 0;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span><span
class=SpellE>else</span> <span class=SpellE>in</span> &gt;&gt; <span
class=SpellE>ss</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Необходимо также отметить, что в классе <span class=SpellE>ios</span>
выполнена перегрузка операции<span class=GramE> !</span> :<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>inline</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>int</span>
<span class=SpellE>ios::operator</span>!() const { return state&amp;(<span
class=SpellE>badbit|failbit</span>); } <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>то есть операция<span class=GramE> !</span> возвращает ненулевое
значение в случае установки одного из бит <span class=SpellE>badbit</span> или <span
class=SpellE>failbit</span>, иначе нулевое значение, например:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>if</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(!<span
class=SpellE>cin</span>) <span class=SpellE>cout</span> &lt;&lt; ”ошибка
потока<span style='mso-spacerun:yes'>  </span><span class=SpellE>cin</span>”&lt;&lt;<span
class=SpellE>endl</span>;<span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>   </span>// проверка состояния<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>else</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> <span
class=SpellE>cin</span>&gt;&gt;<span class=SpellE>i</span>;<span
style='mso-spacerun:yes'>                              </span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span>// входного потока<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></p>

<h3 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm;text-indent:36.0pt'><a name="_Toc38620081"></a><a name="_Toc516651346"></a><a
name="_Toc516652091"></a><a name="_Toc519256606"></a><a name="_Toc54192038"></a><a
name="_Toc54192154"></a><a name="_Toc54192403"></a><a name="_Toc54192636"></a><a
name="_Toc54193380"></a><a name="_Toc54855920"></a><a name="_Toc54861099"></a><a
name="_Toc55028924"></a><a name="_Toc79847808"></a><a name="_Toc117269072"><span
style='mso-bookmark:_Toc79847808'><span style='mso-bookmark:_Toc55028924'><span
style='mso-bookmark:_Toc54861099'><span style='mso-bookmark:_Toc54855920'><span
style='mso-bookmark:_Toc54193380'><span style='mso-bookmark:_Toc54192636'><span
style='mso-bookmark:_Toc54192403'><span style='mso-bookmark:_Toc54192154'><span
style='mso-bookmark:_Toc54192038'><span style='mso-bookmark:_Toc519256606'><span
style='mso-bookmark:_Toc516652091'><span style='mso-bookmark:_Toc516651346'><span
style='mso-bookmark:_Toc38620081'><span style='mso-bidi-font-size:12.0pt;
mso-bidi-font-weight:normal;mso-bidi-font-style:normal'>Строковые потоки</span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><span
style='mso-bidi-font-size:12.0pt;mso-bidi-font-weight:normal;mso-bidi-font-style:
normal'><o:p></o:p></span></h3>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Особой разновидностью потоков являются строковые потоки, представленные
классом <span class=SpellE><i style='mso-bidi-font-style:normal'>strstream</i></span>:
<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>class</span></b></span><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> <span class=SpellE>strstream</span></span></b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> : public <span class=SpellE><b>iostream</b></span><o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{ public</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=SpellE><span class=GramE><b>strstream</b></span></span><span
class=GramE>(</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=SpellE><span class=GramE><b
style='mso-bidi-font-weight:normal'>strstream</b></span></span><span
class=GramE>(</span>char *s, <span class=SpellE>streamsize</span> n, <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>                      </span><span class=SpellE>ios_base:<span
class=GramE>:openmode</span></span>=<span class=SpellE>ios_base::in</span> | <span
class=SpellE>ios_base::out</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=SpellE><span class=GramE>strstreambuf</span></span>
*<span class=SpellE><b style='mso-bidi-font-weight:normal'>rdbuf</b></span>()
const;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=GramE>void</span> <b
style='mso-bidi-font-weight:normal'>freeze</b>(<span class=SpellE>bool</span> <span
class=SpellE>frz</span>=true);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=GramE>char</span> *<span
class=SpellE><b style='mso-bidi-font-weight:normal'>str</b></span>();<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=SpellE><span class=GramE>streamsize</span></span>
<span class=SpellE><b style='mso-bidi-font-weight:normal'>pcount</b></span>()
const;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Важное свойство класса <span class=SpellE>strstream</span> состоит в
том, что в нем автоматически выделяется требуемый объем памяти для хранения
строковых данных. Все операции со строковыми потоками происходят в памяти в
специально выделенном для них буфере <span class=SpellE><i style='mso-bidi-font-style:
normal'>strstreambuf</i></span>.<span style='mso-spacerun:yes'> 
</span>Строковые потоки позволяют облегчить формирование данных в памяти. В
примере демонстрируется ввод данных в буфер, копирование их в компоненту <span
class=SpellE>s</span> класса <span class=SpellE>string</span> и их просмотр. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &quot;<span
class=SpellE>strstrea.h</span>&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> string<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ char</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> s[80];<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><span class=GramE>public</span>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>string(</span>char *S) {for(<span
class=SpellE>int</span> <span class=SpellE>i</span>=0;s[<span class=SpellE>i</span>++]=*S++;);}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>void</span> see(){<span
class=SpellE>cout</span>&lt;&lt;s&lt;&lt;<span class=SpellE>endl</span>;}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> fun(const char *s)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>{ <span class=SpellE>strstream</span> <span
class=SpellE>st</span>;<span style='mso-spacerun:yes'>                </span><span
style='mso-spacerun:yes'> </span>//<span style='mso-spacerun:yes'> 
</span>создание объекта <span class=SpellE>st</span></span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span><span
class=SpellE>st</span> &lt;&lt; <span class=SpellE>s</span> &lt;&lt; <span
class=SpellE>ends</span>;<span style='mso-spacerun:yes'>            
</span>//<span style='mso-spacerun:yes'>  </span>вывод данных в поток (в буфер)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span><span
class=SpellE>string</span> <span class=SpellE>obj</span>(<span class=SpellE>st.str</span>());<span
style='mso-spacerun:yes'>       </span><span
style='mso-spacerun:yes'> </span>//<span style='mso-spacerun:yes'> 
</span>создание объекта класса <span class=SpellE>string</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span><span
class=SpellE>st.rdbuf</span>()-&gt;<span class=SpellE>freeze</span>(0);<span
style='mso-spacerun:yes'>      </span><span style='mso-spacerun:yes'> </span>//<span
style='mso-spacerun:yes'>  </span>освобождение памяти в буфере<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span><span
class=SpellE>obj.see</span>();<span style='mso-spacerun:yes'>                  
</span>// просмотр скопированной из буфера строки<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>main</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>{ <span class=SpellE>fun</span>(&quot;1234&quot;);</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt;mso-hyphenate:none'><span
style='mso-bidi-font-size:12.0pt'>Вначале создается объект <span class=SpellE>st</span>
типа <span class=SpellE>strstream</span>. Далее при выводе переданной в функцию
символьной строки в поток добавлен манипулятор <span class=SpellE>ends</span>,
который соответствует добавлению ’\0’. Функция <span class=SpellE>str</span>()
класса <span class=SpellE>strstream</span> обращается непосредственно к
хранимой в буфере строке. Следует отметить, что при обращении <span
class=GramE>к</span> <span class=SpellE>функии</span> <span class=SpellE>str</span>()
объект <span class=SpellE>st</span> перестает контролировать эту память и при
уничтожении объекта память не освобождается. Для ее освобождения требуется
вызвать функцию<span style='mso-spacerun:yes'>  </span><span class=SpellE>st.rdbuf</span>()</span><span
style='mso-bidi-font-size:12.0pt;font-family:Symbol;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
Symbol'><span style='mso-char-type:symbol;mso-symbol-font-family:Symbol'>-</span></span><span
style='mso-bidi-font-size:12.0pt'>&gt;<span class=SpellE>freeze</span>(0).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Далее в примере показывается проверка состояния потока, чтобы убедиться
в правильности выполняемых операций. Это позволяет, например, легко определить
переполнение буфера.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>#<span class=SpellE>include</span> &quot;<span
class=SpellE>strstrea.h</span>&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> fun(const char *<span
class=SpellE>s,int</span> n)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ char</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> *<span class=SpellE>buf</span>=new
char[n];<span style='mso-spacerun:yes'>                   </span>// </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>входной</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>буфер</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=SpellE><span class=GramE>strstream</span></span>
<span class=SpellE>st</span>(<span class=SpellE>buf,n,ios::in|ios::out</span>);<span
style='mso-spacerun:yes'>   </span>// </span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>связывание</span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>потока</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> <span class=SpellE>st</span> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>и</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>буфера</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> <span class=SpellE>byf</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>st</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> &lt;&lt; <span
class=SpellE>s</span> &lt;&lt; <span class=SpellE>ends</span>;<span
style='mso-spacerun:yes'>                        </span>// ввод информации в
буфер<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span><span
class=SpellE>if</span>(<span class=SpellE>st.good</span>()) <span class=SpellE>cout</span>
&lt;&lt; <span class=SpellE>buf</span>&lt;&lt;<span class=SpellE>endl</span>;<span
style='mso-spacerun:yes'>        </span>// проверка состояния потока<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span><span
class=SpellE>else</span> <span class=SpellE>cerr</span>&lt;&lt;&quot;<span
class=SpellE>error</span>&quot;&lt;&lt;<span class=SpellE>endl</span>;<span
style='mso-spacerun:yes'>               </span>// вывод сообщения об ошибке<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>main</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>{ <span class=SpellE>fun</span>(&quot;123456789&quot;,5);</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span><span
class=SpellE>fun</span>(&quot;123456789&quot;,15);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span class=SpellE>return</span> 1;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='font-family:"Courier New"'>}<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'>В результате выполнения программы
получим:</p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm'><span style='mso-bidi-font-size:12.0pt'><span
style='mso-spacerun:yes'>    </span><span class=SpellE>error</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>123456789<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:0cm'><span style='mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:0cm'><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
