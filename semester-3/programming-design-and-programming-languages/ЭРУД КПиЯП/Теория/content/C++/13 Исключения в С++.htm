<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="13%20Исключения%20в%20С++.files/filelist.xml">
<title>Исключения в С++</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>KEV</o:Author>
  <o:LastAuthor>KEV</o:LastAuthor>
  <o:Revision>3</o:Revision>
  <o:TotalTime>8</o:TotalTime>
  <o:Created>2011-04-06T17:51:00Z</o:Created>
  <o:LastSaved>2011-04-06T20:38:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>4296</o:Words>
  <o:Characters>24492</o:Characters>
  <o:Company>HOME</o:Company>
  <o:Lines>204</o:Lines>
  <o:Paragraphs>57</o:Paragraphs>
  <o:CharactersWithSpaces>28731</o:CharactersWithSpaces>
  <o:Version>11.6568</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:19.85pt;
	mso-pagination:none;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:35.45pt;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:"Times New Roman";
	letter-spacing:1.0pt;
	mso-font-kerning:0pt;
	font-weight:bold;
	font-style:italic;}
h2
	{mso-style-next:Обычный;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:36.0pt;
	mso-pagination:widow-orphan lines-together;
	mso-outline-level:2;
	font-size:14.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	font-weight:bold;
	mso-bidi-font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-noshow:yes;
	mso-style-next:Обычный;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	text-indent:19.85pt;
	mso-pagination:none;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-weight:bold;
	mso-bidi-font-style:italic;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:none;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.MsoBodyTextIndent2, li.MsoBodyTextIndent2, div.MsoBodyTextIndent2
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:19.85pt;
	mso-pagination:none;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=RU style='tab-interval:35.4pt'>

<div class=Section1>

<h1 align=center style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm;text-align:center'><a name="_Toc38620084"></a><a
name="_Toc516651350"></a><a name="_Toc516652095"></a><a name="_Toc519256611"></a><a
name="_Toc54192043"></a><a name="_Toc54192159"></a><a name="_Toc54192408"></a><a
name="_Toc54192641"></a><a name="_Toc54193385"></a><a name="_Toc54855925"></a><a
name="_Toc54861104"></a><a name="_Toc55028929"></a><a name="_Toc79847813"></a><a
name="_Toc117269077"><span style='mso-bookmark:_Toc79847813'><span
style='mso-bookmark:_Toc55028929'><span style='mso-bookmark:_Toc54861104'><span
style='mso-bookmark:_Toc54855925'><span style='mso-bookmark:_Toc54193385'><span
style='mso-bookmark:_Toc54192641'><span style='mso-bookmark:_Toc54192408'><span
style='mso-bookmark:_Toc54192159'><span style='mso-bookmark:_Toc54192043'><span
style='mso-bookmark:_Toc519256611'><span style='mso-bookmark:_Toc516652095'><span
style='mso-bookmark:_Toc516651350'><span style='mso-bookmark:_Toc38620084'><span
style='mso-bidi-font-size:12.0pt;mso-bidi-font-weight:normal;mso-bidi-font-style:
normal'>Исключения в</span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><span
class=GramE><span style='mso-bookmark:_Toc117269077'><span style='mso-bookmark:
_Toc79847813'><span style='mso-bookmark:_Toc55028929'><span style='mso-bookmark:
_Toc54861104'><span style='mso-bookmark:_Toc54855925'><span style='mso-bookmark:
_Toc54193385'><span style='mso-bookmark:_Toc54192641'><span style='mso-bookmark:
_Toc54192408'><span style='mso-bookmark:_Toc54192159'><span style='mso-bookmark:
_Toc54192043'><span style='mso-bookmark:_Toc519256611'><span style='mso-bookmark:
_Toc516652095'><span style='mso-bookmark:_Toc516651350'><span style='mso-bookmark:
_Toc38620084'><span style='mso-bidi-font-size:12.0pt;mso-bidi-font-weight:normal;
mso-bidi-font-style:normal'> С</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span
style='mso-bookmark:_Toc117269077'><span style='mso-bookmark:_Toc79847813'><span
style='mso-bookmark:_Toc55028929'><span style='mso-bookmark:_Toc54861104'><span
style='mso-bookmark:_Toc54855925'><span style='mso-bookmark:_Toc54193385'><span
style='mso-bookmark:_Toc54192641'><span style='mso-bookmark:_Toc54192408'><span
style='mso-bookmark:_Toc54192159'><span style='mso-bookmark:_Toc54192043'><span
style='mso-bookmark:_Toc519256611'><span style='mso-bookmark:_Toc516652095'><span
style='mso-bookmark:_Toc516651350'><span style='mso-bookmark:_Toc38620084'><span
style='mso-bidi-font-size:12.0pt;mso-bidi-font-weight:normal;mso-bidi-font-style:
normal'>++</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span
style='mso-bidi-font-size:12.0pt;mso-bidi-font-weight:normal;mso-bidi-font-style:
normal'><o:p></o:p></span></h1>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Исключения – возникновение непредвиденных ошибочных условий, например,
деление на ноль, невозможность выделения памяти при создании нового объекта и
т.д. Обычно эти условия завершают выполнение программы с системной ошибкой. <span
class=GramE>С++ позволяет</span> восстанавливать программу из этих условий и
продолжать ее выполнение. В то же время исключение – это более общее, чем
ошибка, понятие и может возникать и тогда, когда<span
style='mso-spacerun:yes'>  </span>в программе нет ошибок.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Механизм обработки исключительных ситуаций на сегодняшний день является
неотъемлемой частью языка<span class=GramE> С</span>++. Этот механизм
предоставляет программисту средство реагирования на нештатные события и
позволяет преодолеть ряд принципиальных недостатков следующих традиционных
методов обработки ошибок:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>-<span style='mso-spacerun:yes'>  </span>возврат функцией кода ошибки;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>-<span style='mso-spacerun:yes'>  </span>возврат значений ошибки через
аргументы функций;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>-<span style='mso-spacerun:yes'>  </span>использование глобальных
переменных ошибки;<o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span
style='mso-bidi-font-size:12.0pt'>- использование оператора безусловного
перехода <span class=SpellE>goto</span> или функций <span class=SpellE>setjmp</span>/<span
class=SpellE>longjmp</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>- использование макроса <span class=SpellE>assert</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Возврат функцией кода ошибки является самым обычным и широко
применяемым методом. Однако этот метод имеет существенные недостатки.
Во-первых, нужно помнить численные значения кодов ошибок. Эту проблему можно
обойти, используя перечисляемые типы. Но в некоторых случаях функция может
возвращать широкий диапазон допустимых (неошибочных) значений, и тогда сложно
найти диапазон для возвращаемых кодов ошибки. Это и является вторым
недостатком. И, в-третьих, при использовании такого механизма сигнализации об
ошибках вся ответственность по их обработке <span class=GramE>ложится на
программиста и могут</span> возникнуть ситуации, когда серьезные ошибки будут
оставлены без внимания.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Возврат кода ошибки через аргумент функции или использование глобальной
переменной ошибки снимают, прежде всего, вторую проблему, однако по-прежнему остаются
первая и третья. Кроме того, использование глобальных переменных не является
особо позитивным фактором.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Использование оператора безусловного перехода в любых ситуациях
является нежелательным, кроме того, оператор <span class=SpellE>goto</span>
действует только в пределах функции. Пара функций <span class=SpellE>setjmp</span>/<span
class=SpellE>longjmp</span> является довольно мощным средством, однако и этот
метод имеет серьезнейший недостаток:<span style='mso-spacerun:yes'>  </span>он
не обеспечивает вызов деструкторов локальных объектов при выходе из области
видимости, что, естественно, влечет за собой утечки памяти.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>И, наконец, макрос <span class=SpellE>assert</span> является скорее
средством отладки, чем средством обработки нештатных событий, возникающих в
процессе использования программы.<o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span
style='mso-bidi-font-size:12.0pt'>Таким образом, необходим некий другой способ
обработки ошибок, который учитывал бы объектно-ориентированную философию. Таким
способом и является механизм обработки исключительных ситуаций.<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm;tab-stops:160.5pt'><span style='mso-tab-count:1'>                                      </span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc38620085"></a><a name="_Toc516651351"></a><a
name="_Toc516652096"></a><a name="_Toc519256612"></a><a name="_Toc54192044"></a><a
name="_Toc54192160"></a><a name="_Toc54192409"></a><a name="_Toc54192642"></a><a
name="_Toc54193386"></a><a name="_Toc54855926"></a><a name="_Toc54861105"></a><a
name="_Toc55028930"></a><a name="_Toc79847814"></a><a name="_Toc117269078"><span
style='mso-bookmark:_Toc79847814'><span style='mso-bookmark:_Toc55028930'><span
style='mso-bookmark:_Toc54861105'><span style='mso-bookmark:_Toc54855926'><span
style='mso-bookmark:_Toc54193386'><span style='mso-bookmark:_Toc54192642'><span
style='mso-bookmark:_Toc54192409'><span style='mso-bookmark:_Toc54192160'><span
style='mso-bookmark:_Toc54192044'><span style='mso-bookmark:_Toc519256612'><span
style='mso-bookmark:_Toc516652096'><span style='mso-bookmark:_Toc516651351'><span
style='mso-bookmark:_Toc38620085'>Основы обработки исключительных ситуаций</span></span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Обработка исключительных ситуаций лишена недостатков вышеназванных
методов реагирования на ошибки. Этот механизм позволяет использовать для
представления информации об ошибке объект любого типа. Поэтому можно, например,
создать иерархию классов, которая будет предназначена для обработки аварийных
событий. Это упростит, структурирует и сделает более понятной программу.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Рассмотрим пример обработки исключительных ситуаций. Функция <span
class=SpellE>div</span>() возвращает частное от деления чисел, принимаемых в
качестве аргументов. Если делитель равен нулю, то генерируется исключительная
ситуация.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>#<span class=SpellE>include</span>&lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>double</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> div(double dividend, double
divisor)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>if</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>(divisor==0)<span style='mso-spacerun:yes'> 
</span>throw 1;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
dividend/divisor;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ double</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> result;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>try</span> {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=GramE>result=</span>div(77.,0.);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;&quot;Answer
is &quot;&lt;&lt;result&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>catch(</span><span
class=SpellE>int</span>){ <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;&quot;Division
by zero&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm'><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>       
</span></span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результат выполнения программы:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='mso-bidi-font-size:12.0pt'>Division</span></span><span style='mso-bidi-font-size:
12.0pt'> <span class=SpellE>by</span> <span class=SpellE>zero</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В данном примере необходимо выделить три ключевых элемента. Во-первых,
вызов функции <span class=SpellE>div</span>() заключен внутрь блока, который
начинается с ключевого слова <span class=SpellE><b style='mso-bidi-font-weight:
normal'>try</b></span>. Этот блок указывает, что внутри него могут происходить
исключительные ситуации. По этой причине код, заключенный внутри блока <span
class=SpellE>try</span>, иногда называют охранным.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Далее за блоком <span class=SpellE>try</span> следует блок <span
class=SpellE><b style='mso-bidi-font-weight:normal'>catch</b></span>,
называемый обычно обработчиком исключительной ситуации. Если возникает
исключительная ситуация, выполнение программы переходит к этому catch-блоку.
Хотя в этом примере имеется один-единственный обработчик, их в программах может
присутствовать множество и они способны обрабатывать множество различных типов
исключительных ситуаций.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Еще одним элементом процесса обработки исключительных ситуаций является
оператор <span class=SpellE><b style='mso-bidi-font-weight:normal'>throw</b></span>
(в данном случае он находится внутри функции <span class=SpellE>div</span>()).
Оператор <span class=SpellE>throw</span> сигнализирует об исключительном
событии и генерирует объект исключительной ситуации, который перехватывается
обработчиком <span class=SpellE>catch</span>. Этот процесс называется вызовом
исключительной ситуации. В рассматриваемом примере исключительная ситуация
имеет форму обычного целого числа, однако программы могут генерировать
практически любой тип исключительной ситуации.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Если в инструкции<span style='mso-spacerun:yes'>   </span><span
class=SpellE>if</span>(divisor==0)<span style='mso-spacerun:yes'>  </span><span
class=SpellE>throw</span> 1 значение 1 <span class=GramE>заменить на</span> 1.
, то при выполнении будет выдана ошибка об отсутствии соответствующего
обработчика <span class=SpellE>catch</span> (так как возбуждается
исключительная ситуация типа <span class=SpellE>double</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Одним из главных достоинств использования механизма обработки
исключительных ситуаций является обеспечение <b><i>развертывания стека</i></b>.
<u>Развертывание стека – это процесс вызова деструкторов локальных объектов,
когда исключительные ситуации выводят их из области видимости.<o:p></o:p></u></span></p>

<p class=MsoBodyText style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'>Сказанное рассмотрим на примере функции <span
class=SpellE>add</span>() класса <span class=SpellE>add_class</span>,<span
style='mso-spacerun:yes'>  </span>выполняющей сложение компонентов-данных
объектов <span class=SpellE>add_class</span> и возвращающей суммарный объект. В
случае<span class=GramE>,</span> если сумма превышает максимальное значение для
типа <span class=SpellE>unsigned</span> <span class=SpellE>short</span>,
генерируется исключительная ситуация.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include&lt;<span
class=SpellE>limits.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include&lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>add_class</span><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ private</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=GramE>unsigned</span> short
num;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>public</span>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=SpellE>add_<span
class=GramE>class</span></span><span class=GramE>(</span>unsigned short a)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>{<span
style='mso-spacerun:yes'>  </span>num</span>=a;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-tab-count:1'>    </span><span style='mso-spacerun:yes'>  </span><span
class=SpellE><span class=GramE>cout</span></span>&lt;&lt;&quot;Constructor
&quot;&lt;&lt;num&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span>~<span class=SpellE>add_<span
class=GramE>class</span></span><span class=GramE>(</span>)<span
style='mso-spacerun:yes'>  </span>{ <span class=SpellE>cout</span>&lt;&lt;&quot;Destructor
of <span class=SpellE>add_class</span> &quot;&lt;&lt;num&lt;&lt;<span
class=SpellE>endl</span>; }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=GramE>void</span> <span
class=SpellE>show_num</span>()<span style='mso-spacerun:yes'>  </span>{ <span
class=SpellE>cout</span>&lt;&lt;&quot; &quot;&lt;&lt;num&lt;&lt;&quot; &quot;;<span
style='mso-tab-count:1'> </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=GramE>void</span> <span
class=SpellE>input_num</span>(unsigned short a)<span style='mso-spacerun:yes'> 
</span>{ num=a; }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=GramE>unsigned</span> short <span
class=SpellE>output_num</span>(){return num;}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>add_class</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> add(<span class=SpellE>add_class</span> <span class=SpellE>a,add_class</span>
b)<span style='mso-spacerun:yes'>   </span>// </span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>суммирование</span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>компонент</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> num<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ <span class=SpellE>add</span></span></span><span class=SpellE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>_class</span></span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> sum(0);<span
style='mso-spacerun:yes'>                                  </span>// </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>объектов</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> a </span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>и</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> b<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span><span style='mso-spacerun:yes'> </span><span
class=GramE>unsigned</span> long s=(unsigned long)<span class=SpellE>a.output_num</span>()+<span
style='mso-spacerun:yes'>    </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>                              </span>(<span
class=GramE>unsigned</span> long)<span class=SpellE>b.output_num</span>();<span
style='mso-spacerun:yes'>      </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>if</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(<span
class=SpellE>s</span>&gt;USHRT_MAX) <span class=SpellE>throw</span> 1;<span
style='mso-spacerun:yes'>       </span>// генерация исключения типа <span
class=SpellE>int</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>   </span></span><span
class=SpellE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>sum.input_<span class=GramE>num</span></span></span><span
class=GramE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>(</span></span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>(unsigned short) s); <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>return</span> sum;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ <span class=SpellE>add</span></span></span><span class=SpellE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>_class</span></span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>
a(USHRT_MAX),b(1),s(0);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=GramE>try{</span><span
style='mso-spacerun:yes'>                    </span>// </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>охранный</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>блок</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span>s=<span class=GramE>add(</span><span
class=SpellE>a,b</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;&quot;Result&quot;;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=SpellE>s.show_<span
class=GramE>num</span></span><span class=GramE>(</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;<span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span></span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span><span
class=SpellE>catch</span>(<span class=SpellE>int</span>)<span class=GramE>{<span
style='mso-spacerun:yes'>         </span></span>// обработчик <span
class=SpellE>исключеения</span> типа <span class=SpellE>int</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>      </span><span
class=SpellE>cout</span>&lt;&lt;&quot;<span class=SpellE>Overflow</span> <span
class=SpellE>error</span>&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'>Результат выполнения программы:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Constructor 65535<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Constructor 1<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Constructor 0<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Constructor 0<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of <span class=SpellE>add_class</span>
0<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of <span class=SpellE>add_class</span>
65535<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of <span class=SpellE>add_class</span>
1<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Overflow error<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of <span class=SpellE>add_class</span>
0<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of <span class=SpellE>add_class</span>
1<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of <span class=SpellE>add_class</span>
65535<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Сначала вызываются конструкторы объектов <span class=SpellE>a</span>, <span
class=SpellE>b</span> и <span class=SpellE>s</span>, далее происходит передача
параметров по значению в функцию. В этом случае происходит вызов конструктора
копий (сначала для объекта <span class=SpellE>b</span> затем для <span
class=SpellE>a</span>), созданного по умолчанию, именно поэтому вызовов
деструктора больше, чем конструктора, затем, <span class=GramE>используя</span>
конструктор, создается объект <span class=SpellE>sum</span>. После этого
генерируется исключение и срабатывает механизм развертывания стека, то есть
вызываются деструкторы локальных объектов <span class=SpellE>sum</span>, <span
class=SpellE>a</span> и <span class=SpellE>b</span>. И, наконец, вызываются
деструкторы <span class=SpellE>s</span>, <span class=SpellE>b</span> и <span
class=SpellE>a</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Рассмотрим более подробно элементы <span class=SpellE>try</span>, <span
class=SpellE>catch</span> и <span class=SpellE>throw</span> механизма обработки
исключений.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt'>Блок <span class=SpellE>try</span></span></b><span
style='mso-bidi-font-size:12.0pt'>. Синтаксис блока:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
class=GramE><b><span style='mso-bidi-font-size:12.0pt'>try</span></b></span></span><span
class=GramE><b><span style='mso-bidi-font-size:12.0pt'>{</span></b></span><b><span
style='mso-bidi-font-size:12.0pt'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:
12.0pt'>охранный код<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:
12.0pt'>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:
12.0pt'>список обработчиков<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Необходимо помнить, что после ключевого слова <span class=SpellE>try</span>
всегда должен следовать составной оператор, т.е. после <span class=SpellE>try</span>
всегда следует<span class=GramE> {…}. </span>Блоки <span class=SpellE>try</span>
не имеют однострочной формы, как, например, операторы <span class=SpellE>if</span>,
<span class=SpellE>while</span>, <span class=SpellE>for</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Еще один важный момент заключается в том, что после блока <span
class=SpellE>try</span> должен следовать, по крайней мере, хотя бы один
обработчик. Недопустимо нахождение между блоками<span
style='mso-spacerun:yes'>  </span><span class=SpellE>try</span> и <span
class=SpellE>catch</span> какого-либо кода. Например</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>int</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> <span class=SpellE>i</span>; <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>try{</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=GramE>throw</span> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>исключение</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>i</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>=0;<span
style='mso-spacerun:yes'>                     </span>//<span
style='mso-spacerun:yes'>   </span>'try' block starting on line <span
class=GramE>'<span style='mso-spacerun:yes'>  </span><span lang=RU
style='mso-ansi-language:RU'>номер</span></span><span
style='mso-spacerun:yes'>  </span>' has no catch handlers<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>catch</span></span></span><span
class=GramE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(тип
аргумент){</span></span><span style='mso-bidi-font-size:12.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span>блок обработки
исключения<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В блоке <span class=SpellE>try</span> можно размещать любой код, вызовы
локальных функций, функции-компоненты объектов, и любой код любой степени
вложенности может генерировать исключительные ситуации. Блоки <span
class=SpellE>try</span> сами могут быть вложенными.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><i><span
style='mso-bidi-font-size:12.0pt'>Обработчики исключительных ситуаций <span
class=SpellE>catch</span></span></i></b><i><span style='mso-bidi-font-size:
12.0pt'>.</span></i><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt'> </span></b><span style='mso-bidi-font-size:
12.0pt'>Обработчики исключительных ситуаций являются важнейшей частью всего
механизма обработки исключений, так как именно они определяют поведение
программы после генерации и перехвата исключительной ситуации. Синтаксис блока <span
class=SpellE>catch</span> имеет следующий вид:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><b><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>catch</span></b></span><b><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(тип 1
&lt;аргумент&gt;)<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>{<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>тело обработчика<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><b><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>catch</span></b></span></span><span
class=GramE><b><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(тип
2 &lt;аргумент&gt;))</span></b></span><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>{<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>тело обработчика<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>.<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>.<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>.<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><b><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>catch</span></b></span></span><span
class=GramE><b><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(тип
N &lt;аргумент&gt;))</span></b></span><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>{<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>тело обработчика<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Таким образом, так же как и в случае блока <span class=SpellE>try</span>,
после ключевого слова <span class=SpellE>catch</span> должен следовать
составной оператор, заключенный в фигурные скобки. В аргументах обработчика
можно указать только тип исключительной ситуации, необязательно объявлять имя
объекта, если этого не требуется.<o:p></o:p></span></p>

<p class=MsoBodyTextIndent2 style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span
style='mso-bidi-font-size:12.0pt'>У каждого блока <span class=SpellE>try</span>
может быть множество обработчиков, каждый из которых должен иметь свой
уникальный тип исключительной ситуации. Неправильной будет следующая запись:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>typedef</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'> <span class=SpellE>int</span> <span
class=SpellE>type_int</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>try{</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'><span style='mso-tab-count:
1'> </span>. . .<span style='mso-spacerun:yes'>   </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>catch(</span></span><span class=SpellE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>type_int</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> error1){<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-tab-count:1'>    </span></span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>. . .<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>catch</span></span></span><span
class=GramE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(<span
class=SpellE>int</span> error2){</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>    </span>. . .<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Так, в этом случае <span class=SpellE>type_int</span> и <span
class=SpellE>int</span> - это одно и то же.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Однако следующий пример верен.<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-bottom:6.0pt;text-indent:36.0pt'><span
class=SpellE><b style='mso-bidi-font-weight:normal'><span style='font-family:
"Courier New"'>class</span></b></span><b style='mso-bidi-font-weight:normal'><span
style='font-family:"Courier New"'> <span class=SpellE>cls</span><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{ public</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span><span class=SpellE><span class=GramE>int</span></span>
<span class=SpellE>i</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>try{</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-tab-count:1'>    </span>. . .<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>catch(</span></span><span class=SpellE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>cls</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> i1){<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-tab-count:1'>    </span>...<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>catch</span></span></span><span
class=GramE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(<span
class=SpellE>int</span> i2){</span></span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В этом случае <span class=SpellE>cls</span> – это отдельный тип
исключительной ситуации. Существует также абсолютный обработчик, который
совместим с любым типом исключительной ситуации. Для написания такого
обработчика надо вместо аргументов написать многоточие (эллипсис).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
class=GramE><b><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>catch</span></b></span></span><span
class=GramE><b><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>
(…){</span></b></span><b><span style='mso-bidi-font-size:12.0pt;font-family:
"Courier New"'><o:p></o:p></span></b></p>

<p class=MsoBodyText style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span>блок обработки исключения<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Использование абсолютного обработчика исключительных ситуаций
рассмотрим на примере программы, в которой происходит генерация исключительной
ситуации типа <span class=SpellE>char</span> *, но обработчик такого типа
отсутствует. В этом случае управление передается абсолютному обработчику.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>#<span class=SpellE>include</span> &lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>int_exception</span>(<span
class=SpellE>int</span> <span class=SpellE>i</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>{ <span class=SpellE>if</span>(<span
class=SpellE>i</span>&gt;100) <span class=SpellE>throw</span> 1;<span
style='mso-spacerun:yes'>     </span>// генерация исключения типа<span
style='mso-spacerun:yes'>  </span><span class=SpellE>int</span></span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>void</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'> <span class=SpellE>string_exception</span>()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>{ <span class=SpellE>throw</span> &quot;<span
class=SpellE>Error</span>&quot;;<span style='mso-spacerun:yes'>          
</span>// генерация исключения типа<span style='mso-spacerun:yes'>  </span><span
class=SpellE>char</span> *</span></span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>void</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'> <span class=SpellE>main</span>()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>{ <span class=SpellE>try</span><span class=GramE>{<span
style='mso-spacerun:yes'>           </span></span>//<span
style='mso-spacerun:yes'>  </span>в блоке возможна обработка одного из 2
исключений <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>      </span><span
class=SpellE>int_exception</span>(99);<span style='mso-spacerun:yes'>    
</span>//<span style='mso-spacerun:yes'>  </span>возможно исключение типа <span
class=SpellE>int</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>      </span><span
class=SpellE>string_exception</span>();<span style='mso-spacerun:yes'>   
</span>//<span style='mso-spacerun:yes'>  </span>возможно исключение типа <span
class=SpellE>char</span> *<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span><span
class=SpellE><span class=GramE>catch</span></span><span class=GramE>(<span
class=SpellE>int</span>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>       </span><span
class=SpellE>cout</span>&lt;&lt;&quot;Обработчик для типа <span class=SpellE>int</span>&quot;&lt;&lt;<span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span><span
class=SpellE><span class=GramE>catch</span></span><span class=GramE>(...){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>       </span><span
class=SpellE>cout</span>&lt;&lt;&quot;Абсолютный обработчик &quot;&lt;&lt;<span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результат выполнения программы:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Абсолютный обработчик<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt;mso-pagination:none'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'>Так как абсолютный
обработчик перехватывает исключительные ситуации всех типов, то он должен
стоять в списке обработчиков последним. Нарушение этого правила вызовет ошибку
при компиляции программы.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Для того чтобы эффективно использовать механизм обработки
исключительных ситуаций, необходимо грамотно построить списки обработчиков, а
для этого, в свою очередь, нужно четко знать следующие правила, по которым
осуществляется поиск соответствующего обработчика:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>- исключительная ситуация обрабатывается первым найденным обработчиком,
т. е. если есть несколько обработчиков, способных обработать данный тип
исключительной ситуации, то она будет обработана первым стоящим в списке
обработчиком;<i style='mso-bidi-font-style:normal'><o:p></o:p></i></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>- абсолютный обработчик может обработать любую исключительную ситуацию;<i
style='mso-bidi-font-style:normal'><o:p></o:p></i></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>- исключительная ситуация может быть обработана обработчиком
соответствующего типа либо обработчиком ссылки на этот тип;<i style='mso-bidi-font-style:
normal'><o:p></o:p></i></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>- исключительная ситуация может быть обработана обработчиком базового
для нее класса. Например, если класс<span class=GramE> В</span> является
производным от класса А, то обработчик класса А может обработать исключительную
ситуацию класса В;<i style='mso-bidi-font-style:normal'><o:p></o:p></i></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>- исключительная ситуация может быть обработана обработчиком,
принимающим указатель, если тип исключительной ситуации может быть приведен к
типу обработчика, путем использования стандартных правил преобразования типов
указателей.<i style='mso-bidi-font-style:normal'><o:p></o:p></i></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Если при возникновении исключительной ситуации подходящего обработчика
нет среди обработчиков данного уровня вложенности блоков <span class=SpellE>try</span>,
то обработчик ищется на следующем охватывающем уровне. Если обработчик не
найден вплоть до самого верхнего уровня, то программа аварийно завершается.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Следствием из правил 3 и 4 является еще одно утверждение:
исключительная ситуация может быть направлена обработчику, который может
принимать ссылку на объект базового для данной исключительной ситуации класса.
Это значит, что если, например, класс<span class=GramE> В</span> – производный
от класса А, то обработчик ссылки на объект класса А может обрабатывать
исключительную ситуацию класса В (или ссылку на объект класса В).<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'>Рассмотрим особенности
выбора соответствующего обработчика на следующем примере. Пусть имеется класс<span
class=GramE> С</span>, являющийся производным от классов А и В; показано,
какими обработчиками может быть перехвачена исключительная ситуация типа С и
типа указателя на С.<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>#include&lt;<span class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>class</span></b></span><b><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> A</span></b><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>{};<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>class</span></b></span><b><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> B</span></b><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>{};<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>class</span></b></span><b><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> C : public A, public B</span></b><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> {};<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'>void</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'> <span
class=SpellE>f</span>(<span class=SpellE>int</span> <span class=SpellE>i</span>)<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'>{<span
style='mso-spacerun:yes'>  </span><span class=SpellE>if</span>(<span
class=SpellE>i</span>) <span class=SpellE>throw</span> C();<span
style='mso-spacerun:yes'>      </span>// возбуждение исключительной ситуации </span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                                  </span>// типа
объект класса<span class=GramE> С</span><o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span class=SpellE>else</span> <span
class=SpellE>throw</span> <span class=SpellE>new</span> C; //<span
style='mso-spacerun:yes'>  </span>возбуждение исключительной ситуации <o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                                  </span>// типа
указатель на объект класса<span class=GramE> С</span><o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>void</span></span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> main()<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{ <span class=SpellE>int</span></span></span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> <span class=SpellE>i</span>;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>   </span><span class=GramE>try{</span><o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=SpellE><span
class=GramE>cin</span></span>&gt;&gt;<span class=SpellE>i</span>;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=GramE>f(</span><span
class=SpellE>i</span>);<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>A)
{<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;A handler&quot;;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>B&amp;)
{<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;B&amp; handler&quot;;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>C)
{<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;C handler&quot;;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>C*)
{<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;C* handler&quot;;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>A*)
{<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;A* handler&quot;;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>void*)
{<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;void* handler&quot;;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span></span><span style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В данном примере исключительная ситуация класса<span class=GramE> С</span>
может быть направлена любому из обработчиков A, B&amp; или C, поэтому
выбирается обработчик, стоящий первым в списке. Аналогично для исключительной
ситуации, имеющей тип указателя на объект класса<span class=GramE> С</span>,
выбирается первый подходящий обработчик A* или C*. Эта ситуация также может
быть обработана обработчиками <span class=SpellE>void</span>*. Так как к типу <span
class=SpellE>void</span>* может быть приведен любой указатель, то обработчик
этого типа будет перехватывать любые исключительные ситуации типа указателя.
Рассмотрим</span><span style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'>
</span><span style='mso-bidi-font-size:12.0pt'>еще</span><span
style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'> </span><span
style='mso-bidi-font-size:12.0pt'>один</span><span style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'> </span><span style='mso-bidi-font-size:12.0pt'>пример</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>#include &lt;<span class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>class</span></b></span><b><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> base {};<o:p></o:p></span></b></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>class</span></b></span><b><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> derived : public base{};</span></b><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>void</span></span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> fun()<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{ derived</span></span><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> <span class=SpellE>obj</span>;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>base</span>
&amp;a = <span class=SpellE>obj</span>;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>throw</span>
a;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>main()</span></span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{ try</span></span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-tab-count:1'>  </span>fun();<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>   </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>derived){
<span class=SpellE>cout</span>&lt;&lt;”derived”&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=GramE>catch(</span>base)<span
style='mso-spacerun:yes'>     </span>{ <span class=SpellE>cout</span>&lt;&lt;”base”&lt;&lt;<span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span></span><span style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результат выполнения программы:<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>base</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'><o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'>В примере генерируется исключение, имеющее тип <span
class=SpellE>base</span>, хотя ссылка <span class=SpellE><b>a</b></span> имеет
тип <span class=SpellE>base</span>, хотя является ссылкой на класс <span
class=SpellE>derived</span>. Так происходит потому, что статический тип <span
class=SpellE><b>a</b></span> равен <span class=SpellE>base</span>, а не <span
class=SpellE>derived</span>. <o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'>В случае, когда генерация исключения выполняется по
значению объекта или по ссылке на <span class=GramE>объект</span> то происходит
копирование значения объекта (локального) во временный (в <span class=SpellE>catch</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><i><span
lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b style='mso-bidi-font-weight:normal'><i><span
style='mso-bidi-font-size:12.0pt'>Генерация исключительных ситуаций <span
class=SpellE>throw</span>.</span></i></b><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt'> </span></b><span style='mso-bidi-font-size:
12.0pt'>Исключительные ситуации передаются обработчикам с помощью ключевого
слова <span class=SpellE>throw</span>. Как ранее отмечалось, обеспечивается
вызов деструкторов локальных объектов при выходе из области видимости, то есть
развертывание стека. Однако развертывание стека не обеспечивает уничтожение
объектов, созданных динамически. Таким образом, перед генерацией исключительной
ситуации необходимо явно освободить динамически выделенные блоки памяти.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Следует отметить также, что если исключительная ситуация генерируется
по значению или по ссылке, то создается скрытая временная переменная, в которой
хранится копия генерируемого объекта. Когда после <span class=SpellE>throw</span>
указывается локальный объект, то к моменту вызова соответствующего обработчика
этот объект будет уже вне области видимости и, естественно, прекратит
существование. Обработчик же получит в качестве аргумента именно эту скрытую
копию. Из этого следует, что если генерируется исключительная ситуация сложного
класса, то возникает необходимость снабжения этого класса конструктором копий,
который бы обеспечил корректное создание копии объекта.<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt;mso-pagination:none'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'>Если же исключительная
ситуация генерируется с использованием указателя, то копия объекта не
создается. В этом случае могут возникнуть проблемы. Например, если генерируется
указатель на локальный объект, к моменту вызова обработчика объект уже
перестанет существовать и использование указателя в обработчике может привести
к ошибкам.<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>class A <o:p></o:p></span></b></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>{ int i;<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>public:<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>   </span>A():i(0){}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>   </span>void ff(int
i){this-&gt;i=i;}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>};<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>void f()<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>{ A obj;<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>     </span>.<span
style='mso-spacerun:yes'>   </span>.<span style='mso-spacerun:yes'>   </span>.<o:p></o:p></span></b></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>  </span>throw &amp;obj; <o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>main()<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>{ try{<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>      </span>f();<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>   </span>}<span
style='mso-tab-count:1'> </span><o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>  </span>catch(A *a){<span
style='mso-spacerun:yes'>   </span>//<span style='mso-spacerun:yes'>   </span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";color:windowtext;
mso-no-proof:yes'>код</span><span style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";color:windowtext;mso-ansi-language:EN-US;mso-no-proof:yes'> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";color:windowtext;
mso-no-proof:yes'>обработчика</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>;<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>      </span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";color:windowtext;
mso-no-proof:yes'>a-&gt;ff(1);<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";color:windowtext;mso-no-proof:yes'><span
style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt;mso-pagination:none'><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";color:windowtext;
mso-no-proof:yes'>}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt;mso-pagination:none'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'>Эту проблему можно легко
устранить, если поместить указатель на новый динамический объект:<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>void f()<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'>{ A obj;<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>     </span>.<span
style='mso-spacerun:yes'>   </span>.<span style='mso-spacerun:yes'>   </span>.<o:p></o:p></span></b></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";color:windowtext;mso-ansi-language:EN-US;
mso-no-proof:yes'><span style='mso-spacerun:yes'>  </span>throw new A;<span
style='mso-spacerun:yes'>       </span><o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
6.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";color:windowtext;mso-no-proof:yes'>}<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;mso-pagination:none'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'>При этом необходимо решить
вопрос о необходимости удаления или нет динамически созданного объекта
исключения (например, в блоке <span class=SpellE>catch</span>). В <span
class=GramE>противном</span> возможны утечки памяти.<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;mso-pagination:none'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'><o:p>&nbsp;</o:p></span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc38620086"></a><a name="_Toc516651352"></a><a
name="_Toc516652097"></a><a name="_Toc519256613"></a><a name="_Toc54192045"></a><a
name="_Toc54192161"></a><a name="_Toc54192410"></a><a name="_Toc54192643"></a><a
name="_Toc54193387"></a><a name="_Toc54855927"></a><a name="_Toc54861106"></a><a
name="_Toc55028931"></a><a name="_Toc79847815"></a><a name="_Toc117269079"><span
style='mso-bookmark:_Toc79847815'><span style='mso-bookmark:_Toc55028931'><span
style='mso-bookmark:_Toc54861106'><span style='mso-bookmark:_Toc54855927'><span
style='mso-bookmark:_Toc54193387'><span style='mso-bookmark:_Toc54192643'><span
style='mso-bookmark:_Toc54192410'><span style='mso-bookmark:_Toc54192161'><span
style='mso-bookmark:_Toc54192045'><span style='mso-bookmark:_Toc519256613'><span
style='mso-bookmark:_Toc516652097'><span style='mso-bookmark:_Toc516651352'><span
style='mso-bookmark:_Toc38620086'>Перенаправление исключительных ситуаций</span></span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Иногда возникает положение, при котором необходимо обработать
исключительную ситуацию сначала на более низком уровне вложенности блока <span
class=SpellE>try</span>, а затем передать ее на более высокий уровень для
продолжения обработки. Для того чтобы сделать это, нужно использовать <span
class=SpellE>throw</span> без аргументов. В этом случае исключительная ситуация
будет перенаправлена к следующему подходящему обработчику (подходящий
обработчик не ищется ниже в текущем списке - сразу осуществляется поиск на
более высоком уровне). Приводимый ниже пример демонстрирует организацию такой
передачи. Программа содержит вложенный блок <span class=SpellE>try</span> и
соответствующий блок <span class=SpellE>catch</span>. Сначала происходит
первичная обработка, затем исключительная ситуация перенаправляется на более
высокий уровень для дальнейшей обработки.<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt;text-indent:0cm'><span lang=EN-US style='font-family:"Courier New";
mso-ansi-language:EN-US'>#include&lt;<span class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>func</span>(<span
class=SpellE>int</span> <span class=SpellE>i</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>try</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>if(</span><span
class=SpellE>i</span>) throw &quot;Error&quot;;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span>char *s) {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;s&lt;&lt;&quot;-<span
style='mso-spacerun:yes'>  </span></span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>выполняется</span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>первый</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>обработчик</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>throw</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>try</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=SpellE><span class=GramE>func</span></span><span
class=GramE>(</span>1);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch<span lang=RU
style='mso-ansi-language:RU'>(</span></span>char</span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'> *</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>s</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>) {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>       </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'>cout</span></span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>&lt;&lt;</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>s</span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>&lt;&lt;&quot;- выполняется второй обработчик&quot;&lt;&lt;</span><span
class=SpellE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>endl</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt'>Результат выполнения программы:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='mso-bidi-font-size:12.0pt'>Error</span></span><span style='mso-bidi-font-size:
12.0pt'> - выполняется первый обработчик<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='mso-bidi-font-size:12.0pt'>Error</span></span><span style='mso-bidi-font-size:
12.0pt'> - выполняется второй обработчик<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Если ключевое слово <span class=SpellE>trow</span> используется вне
блока <span class=SpellE>catch</span>, то автоматически будет вызвана функция <span
class=SpellE>terminate</span>(), которая по умолчанию завершает программу.<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'><o:p>&nbsp;</o:p></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc38620087"></a><a name="_Toc516651353"></a><a
name="_Toc516652098"></a><a name="_Toc519256614"></a><a name="_Toc54192046"></a><a
name="_Toc54192162"></a><a name="_Toc54192411"></a><a name="_Toc54192644"></a><a
name="_Toc54193388"></a><a name="_Toc54855928"></a><a name="_Toc54861107"></a><a
name="_Toc55028932"></a><a name="_Toc79847816"></a><a name="_Toc117269080"><span
style='mso-bookmark:_Toc79847816'><span style='mso-bookmark:_Toc55028932'><span
style='mso-bookmark:_Toc54861107'><span style='mso-bookmark:_Toc54855928'><span
style='mso-bookmark:_Toc54193388'><span style='mso-bookmark:_Toc54192644'><span
style='mso-bookmark:_Toc54192411'><span style='mso-bookmark:_Toc54192162'><span
style='mso-bookmark:_Toc54192046'><span style='mso-bookmark:_Toc519256614'><span
style='mso-bookmark:_Toc516652098'><span style='mso-bookmark:_Toc516651353'><span
style='mso-bookmark:_Toc38620087'>Исключительная ситуация, генерируемая
оператором </span></span></span></span></span></span></span></span></span></span></span></span></span></a><span
class=SpellE><span style='mso-bookmark:_Toc117269080'><span style='mso-bookmark:
_Toc79847816'><span style='mso-bookmark:_Toc55028932'><span style='mso-bookmark:
_Toc54861107'><span style='mso-bookmark:_Toc54855928'><span style='mso-bookmark:
_Toc54193388'><span style='mso-bookmark:_Toc54192644'><span style='mso-bookmark:
_Toc54192411'><span style='mso-bookmark:_Toc54192162'><span style='mso-bookmark:
_Toc54192046'><span style='mso-bookmark:_Toc519256614'><span style='mso-bookmark:
_Toc516652098'><span style='mso-bookmark:_Toc516651353'><span style='mso-bookmark:
_Toc38620087'>new</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span
style='mso-bookmark:_Toc38620087'></span><span style='mso-bookmark:_Toc516651353'></span><span
style='mso-bookmark:_Toc516652098'></span><span style='mso-bookmark:_Toc519256614'></span><span
style='mso-bookmark:_Toc54192046'></span><span style='mso-bookmark:_Toc54192162'></span><span
style='mso-bookmark:_Toc54192411'></span><span style='mso-bookmark:_Toc54192644'></span><span
style='mso-bookmark:_Toc54193388'></span><span style='mso-bookmark:_Toc54855928'></span><span
style='mso-bookmark:_Toc54861107'></span><span style='mso-bookmark:_Toc55028932'></span><span
style='mso-bookmark:_Toc79847816'></span><span style='mso-bookmark:_Toc117269080'></span></h2>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt;mso-pagination:none'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'>Следует отметить, что <u>некоторые
компиляторы</u> поддерживают генерацию исключений в случае ошибки выделения
памяти посредством оператора <span class=SpellE>new</span>, в частности
исключения типа <span style='mso-no-proof:yes'>bad_alloc</span>. Оно может быть
перехвачено и необходимым образом обработано. Ниже в программе рассмотрен
пример генерации и обработки исключительной ситуаций <span style='mso-no-proof:
yes'>bad_alloc</span>. Искусственно<span style='mso-spacerun:yes'> 
</span>вызывается ошибка выделения памяти и перехватывается исключительная
ситуация.<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt;text-indent:0cm'><span style='font-family:"Courier New"'>#<span
class=SpellE>include</span> &lt;<span class=SpellE>new</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>using</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>std::bad_alloc</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>double</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> *p;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=GramE>try{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>while</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>(1) <span
class=SpellE>p=new</span> <span class=SpellE>double</span>[100];<span
style='mso-spacerun:yes'>  </span>// генерация ошибки выделения памяти <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span><span
class=SpellE>bad_alloc</span> <span class=SpellE>exept</span>) {<span
style='mso-spacerun:yes'>                         </span>// </span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>обработчик</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>  </span><span
class=SpellE>xalloc</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>cout</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>&lt;&lt;&quot;Возникло
исключение&quot;&lt;&lt;<span class=SpellE>exept.what</span>()&lt;&lt;<span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В случае если компилятором не генерируется исключение <span
class=SpellE>bad_alloc</span>, то можно это исключение создать искусственно:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &lt;new&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>using</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>std::bad_alloc</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>double</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> *p;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span><span class=SpellE><span class=GramE>bad_alloc</span></span>
<span class=SpellE>exept</span>;<span style='mso-spacerun:yes'>       </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span></span><span class=SpellE><span
class=GramE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>try</span></span></span><span
class=GramE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>{</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>    </span><span
style='mso-spacerun:yes'> </span><span class=SpellE>if</span>(!(<span
class=SpellE>p=new</span> <span class=SpellE>double</span>[100000000]))<span
style='mso-spacerun:yes'>  </span>// память не выделена<span
style='mso-spacerun:yes'>   </span><span class=SpellE>p==NULL</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>           </span><span
class=SpellE>throw</span> <span class=SpellE>exept</span>;<span
style='mso-tab-count:1'>   </span><span style='mso-spacerun:yes'>             
</span>// генерация ошибки выделения памяти<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span><span class=GramE>catch(</span><span
class=SpellE>bad_alloc</span> <span class=SpellE>exept</span>) {<span
style='mso-spacerun:yes'>            </span>// </span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>обработчик</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><span class=SpellE>bad_alloc</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>             </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>cout</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>&lt;&lt;&quot;Возникло
исключение<span style='mso-spacerun:yes'>   </span>&quot;&lt;&lt;<span
class=SpellE>exept.what</span>()&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span><span
style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результатом работы программы будет сообщение:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Возникло исключение<span style='mso-spacerun:yes'>   </span><span
class=SpellE>bad</span><span style='mso-spacerun:yes'>  </span><span
class=SpellE>allocation</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Оператор <span class=SpellE>new</span> появился в языке C++ еще до
того, как был введен механизм обработки исключительных ситуаций, поэтому
первоначально в случае ошибки выделения памяти этот оператор просто возвращал
NULL. Если требуется, чтобы <span class=SpellE>new</span> работал именно так,
надо вызвать функцию <span class=SpellE>set_new_handler</span>() с параметром
0. Кроме того, с помощью <span class=SpellE>set_new_handler</span>() можно
задать функцию, которая будет вызываться в случае ошибки выделения памяти. Функция
<span class=SpellE>set_new_handler</span> (в заголовочном файле <span
class=SpellE>new</span>) принимает в качестве аргумента указатель на функцию,
которая не принимает никаких аргументов и возвращает <span class=SpellE>void</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include&lt;new&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include&lt;<span
class=SpellE>iostream</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>using</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> namespace std;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>newhandler</span>(
)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span><span class=SpellE>cout</span></span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'> &lt;&lt; &quot;The <span class=SpellE>new_handler</span>
is called: &quot;;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>throw</span> <span
class=SpellE>bad_alloc</span>( );<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>return</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>main(</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> ) <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>char</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>* <span class=SpellE>ptr</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=SpellE>set_new_handler</span> (<span
class=SpellE>newhandler</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>try</span> {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=SpellE><span class=GramE>ptr</span></span>
= new char[~<span class=SpellE>size_t</span>(0)/2];<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span><span class=GramE>delete[</span> ] <span
class=SpellE>ptr</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span> <span
class=SpellE>bad_alloc</span> &amp;<span class=SpellE>ba</span>) {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>cout</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> &lt;&lt; <span
class=SpellE>ba.what</span>(<span class=GramE> )</span> &lt;&lt; <span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>  </span><span
style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результатом работы функции является:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>The <span class=SpellE>new_handler</span> is
called:<span style='mso-spacerun:yes'>  </span>bad allocation<o:p></o:p></span></p>

<p style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm;text-indent:36.0pt'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>В
<span class=SpellE>new.h</span> так же определена функция </span><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt'><span
style='mso-spacerun:yes'> </span>_<span class=SpellE>set_new_handler</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>, аргументом которой
является указатель на функцию возвращающую значение типа <span class=SpellE>int</span>
и получающую аргумент типа <span class=SpellE>size_t</span>, указывающий размер
требуемой памяти <span style='color:red'><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &lt;<span
class=SpellE>new.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>int</span></span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> <span class=SpellE>error_alloc</span>( <span class=SpellE>size_t</span><span
style='mso-spacerun:yes'>  </span>) // <span class=SpellE><b style='mso-bidi-font-weight:
normal'>size_t</b></span> unsigned integer<span style='mso-spacerun:yes'> 
</span></span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>результат</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'> <span class=SpellE><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>sizeof</span></b></span><span lang=EN-US> operator.<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>{<span style='mso-spacerun:yes'>   </span><span
class=SpellE>cout</span> &lt;&lt; &quot;ошибка выделения памяти&quot; &lt;&lt;<span
class=SpellE>endl</span>;</span></span><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span></span><span
class=GramE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>return</span></span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> 0;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main( void )<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>{<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>_<span class=SpellE>set_new_<span
class=GramE>handler</span></span><span class=GramE>(</span> <span class=SpellE>error_alloc</span>
);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>int</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> *<span
class=SpellE>p</span> = <span class=SpellE>new</span> <span class=SpellE>int</span>[10000000000];<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результатом работы функции является:<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:36.0pt;text-indent:0cm'>ошибка выделения памяти</p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В случае<span class=GramE>,</span> если память не выделяется и не
задается никакой функции-аргумента для <span class=SpellE>set_new_handler</span>,
оператор <span class=SpellE>new</span> генерирует исключение <span
class=SpellE>bad_alloc</span>. <o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm;text-indent:0cm;tab-stops:108.0pt'><span lang=EN-US
style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc38620088"></a><a name="_Toc516651354"></a><a
name="_Toc516652099"></a><a name="_Toc519256615"></a><a name="_Toc54192047"></a><a
name="_Toc54192163"></a><a name="_Toc54192412"></a><a name="_Toc54192645"></a><a
name="_Toc54193389"></a><a name="_Toc54855929"></a><a name="_Toc54861108"></a><a
name="_Toc55028933"></a><a name="_Toc79847817"></a><a name="_Toc117269081"><span
style='mso-bookmark:_Toc79847817'><span style='mso-bookmark:_Toc55028933'><span
style='mso-bookmark:_Toc54861108'><span style='mso-bookmark:_Toc54855929'><span
style='mso-bookmark:_Toc54193389'><span style='mso-bookmark:_Toc54192645'><span
style='mso-bookmark:_Toc54192412'><span style='mso-bookmark:_Toc54192163'><span
style='mso-bookmark:_Toc54192047'><span style='mso-bookmark:_Toc519256615'><span
style='mso-bookmark:_Toc516652099'><span style='mso-bookmark:_Toc516651354'><span
style='mso-bookmark:_Toc38620088'>Генерация исключений в конструкторах</span></span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Механизм обработки исключительных ситуаций очень удобен для обработки
ошибок, возникающих в конструкторах. Так как конструктор не возвращает
значения, то соответственно нельзя возвратить некий код ошибки и приходится
искать альтернативу. В этом случае наилучшим решением является генерация и
обработка исключительной ситуации. При генерации исключения внутри конструктора
процесс создания объекта прекращается. Если к этому моменту были вызваны конструкторы
базовых классов, то будет обеспечен и вызов соответствующих деструкторов.
Рассмотрим на примере генерацию исключительной ситуации внутри конструктора.
Пусть имеется класс<span class=GramE> В</span>, производный от класса А и
содержащий в качестве <span class=SpellE>компоненты-данного</span> объект класса
<span class=SpellE>local</span>. В конструкторе класса<span class=GramE> В</span>
генерируется исключительная ситуация. <o:p></o:p></span></p>

<p class=MsoToc1 style='margin-bottom:6.0pt;text-indent:36.0pt'><span
style='font-family:"Courier New"'>#<span class=SpellE>include</span>&lt;<span
class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> local<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>public</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>         </span><span class=GramE>local(</span>)<span
style='mso-spacerun:yes'>    </span>{<span style='mso-spacerun:yes'>  </span><span
class=SpellE>cout</span>&lt;&lt;&quot;Constructor of local&quot;&lt;&lt;<span
class=SpellE>endl</span>;<span style='mso-spacerun:yes'>   </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>         </span>~<span class=GramE>local(</span>)<span
style='mso-spacerun:yes'>  </span>{<span style='mso-spacerun:yes'>  </span><span
class=SpellE>cout</span>&lt;&lt;&quot;Destructor of local&quot;&lt;&lt;<span
class=SpellE>endl</span>;<span style='mso-spacerun:yes'>     </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> A<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>public</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>A(</span>)<span
style='mso-spacerun:yes'>         </span>{<span style='mso-spacerun:yes'> 
</span><span class=SpellE>cout</span>&lt;&lt;&quot;Constructor of
A&quot;&lt;&lt;<span class=SpellE>endl</span>;<span style='mso-spacerun:yes'> 
</span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>       </span>~<span class=GramE>A(</span>)<span
style='mso-spacerun:yes'>        </span>{<span style='mso-spacerun:yes'>  
</span><span class=SpellE>cout</span>&lt;&lt;&quot;Destructor of
A&quot;&lt;&lt;<span class=SpellE>endl</span>;<span style='mso-spacerun:yes'>  
</span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> B : public A<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>public</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>local</span> ob;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>B(</span><span
class=SpellE>int</span> <span class=SpellE>i</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>{<span
style='mso-spacerun:yes'>  </span><span class=SpellE>cout</span></span>&lt;&lt;&quot;Constructor
of B&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>            </span><span class=GramE>if(</span><span
class=SpellE>i</span> ) throw 1;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>~<span class=GramE>B(</span>)<span
style='mso-spacerun:yes'>   </span>{<span style='mso-spacerun:yes'>  </span><span
class=SpellE>cout</span>&lt;&lt;&quot;Destructor of B&quot;&lt;&lt;<span
class=SpellE>endl</span>; }<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>{<span
style='mso-spacerun:yes'>   </span><span class=GramE>try</span> {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>         </span>B <span class=GramE>ob(</span>1);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span><span
class=SpellE>int</span>) {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;&quot;<span
class=SpellE>int</span> exception handler&quot;;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результат выполнения программы:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
style='mso-bidi-font-size:12.0pt'>Constructor</span></span><span
style='mso-bidi-font-size:12.0pt'> <span class=SpellE>of</span> A<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Constructor of local<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Constructor of B<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of local<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Destructor of A<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span
class=GramE><span lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:
EN-US'>int</span></span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt'>
</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:
EN-US'>exception</span><span lang=EN-US style='mso-bidi-font-size:12.0pt'> </span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'>handler</span><span
style='mso-bidi-font-size:12.0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В программе при создании объекта производного класса<span class=GramE>
В</span> сначала вызываются конструкторы базового класса А, затем класса <span
class=SpellE>local</span>, который является компонентом класса В. После этого
вызывается конструктор класса В, в котором генерируется исключительная
ситуация. Видно, что при этом для всех ранее созданных объектов вызваны
деструкторы, а для объекта самого класса<span class=GramE> В</span> деструктор
не вызывается, так как конструирование этого объекта не было завершено.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Если в конструкторах выполнялось динамическое выделение памяти, то при
генерации исключительной ситуации выделенная память автоматически освобождена
не будет, об этом необходимо заботиться самостоятельно, иначе возникнут утечки
памяти.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc38620089"></a><a name="_Toc516651355"></a><a
name="_Toc516652100"></a><a name="_Toc519256616"></a><a name="_Toc54192048"></a><a
name="_Toc54192164"></a><a name="_Toc54192413"></a><a name="_Toc54192646"></a><a
name="_Toc54193390"></a><a name="_Toc54855930"></a><a name="_Toc54861109"></a><a
name="_Toc55028934"></a><a name="_Toc79847818"></a><a name="_Toc117269082"><span
style='mso-bookmark:_Toc79847818'><span style='mso-bookmark:_Toc55028934'><span
style='mso-bookmark:_Toc54861109'><span style='mso-bookmark:_Toc54855930'><span
style='mso-bookmark:_Toc54193390'><span style='mso-bookmark:_Toc54192646'><span
style='mso-bookmark:_Toc54192413'><span style='mso-bookmark:_Toc54192164'><span
style='mso-bookmark:_Toc54192048'><span style='mso-bookmark:_Toc519256616'><span
style='mso-bookmark:_Toc516652100'><span style='mso-bookmark:_Toc516651355'><span
style='mso-bookmark:_Toc38620089'>Задание собственной функции завершения</span></span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Если программа не может найти подходящий обработчик для сгенерированной
исключительной ситуации, то будет вызвана процедура завершения <span
class=SpellE>terminate</span>() (ее также называют обработчик завершения), по
умолчанию выполнение программы будет остановлено и на экран будет выведено
сообщение «<span class=SpellE>Abnormal</span> <span class=SpellE>program</span>
<span class=SpellE>termination</span>». Однако можно установить собственный
обработчик завершения, используя функцию <span class=SpellE>set_terminate</span>(),
единственным аргументом которой является указатель на новую функцию завершения
(<i><u>функция, принимающая и возвращающая<span style='mso-spacerun:yes'> 
</span><span class=SpellE>void</span></u></i>), а возвращаемое значение –
указатель <span class=GramE>на</span> предыдущий обработчик. Ниже приведен
пример установки собственного обработчика завершения и генерации исключительной
ситуации, для которой не может быть найден обработчик.<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-bottom:6.0pt;text-indent:36.0pt'><span
lang=EN-US style='font-family:"Courier New";mso-ansi-language:EN-US'>#include
&lt;<span class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include
&lt;exception&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include &lt;<span
class=SpellE>stdlib.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void<span style='mso-spacerun:yes'>  </span><span class=SpellE>my</span></span></span><span
class=SpellE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>_term</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>{<span style='mso-spacerun:yes'>  </span><span
class=SpellE>cout</span>&lt;&lt;&quot;Собственная функция-обработчик&quot;;</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span><span
class=SpellE>exit</span>(1);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>{<span
style='mso-spacerun:yes'>   </span><span class=SpellE>set_<span class=GramE>terminate</span></span><span
class=GramE>(</span><span class=SpellE>my_term</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span></span><span class=SpellE><span
class=GramE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>try</span></span></span><span
class=GramE><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>
{</span></span><span style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>        </span><span
class=SpellE>throw</span> 1;<span style='mso-spacerun:yes'>        </span>//
генерация исключительной ситуации типа <span class=SpellE>int</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span><span
class=SpellE>catch</span>(<span class=SpellE>char</span>) <span class=GramE>{<span
style='mso-spacerun:yes'>    </span></span>// обработчик для типа<span
style='mso-spacerun:yes'>   </span><span class=SpellE>char</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>          </span><span
class=SpellE>cout</span>&lt;&lt;&quot;<span class=SpellE>char</span> <span
class=SpellE>handler</span>&quot;;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результат выполнения программы:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Собственная функция-обработчик<o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'><o:p>&nbsp;</o:p></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc38620090"></a><a name="_Toc516651356"></a><a
name="_Toc516652101"></a><a name="_Toc519256617"></a><a name="_Toc54192049"></a><a
name="_Toc54192165"></a><a name="_Toc54192414"></a><a name="_Toc54192647"></a><a
name="_Toc54193391"></a><a name="_Toc54855931"></a><a name="_Toc54861110"></a><a
name="_Toc55028935"></a><a name="_Toc79847819"></a><a name="_Toc117269083"><span
style='mso-bookmark:_Toc79847819'><span style='mso-bookmark:_Toc55028935'><span
style='mso-bookmark:_Toc54861110'><span style='mso-bookmark:_Toc54855931'><span
style='mso-bookmark:_Toc54193391'><span style='mso-bookmark:_Toc54192647'><span
style='mso-bookmark:_Toc54192414'><span style='mso-bookmark:_Toc54192165'><span
style='mso-bookmark:_Toc54192049'><span style='mso-bookmark:_Toc519256617'><span
style='mso-bookmark:_Toc516652101'><span style='mso-bookmark:_Toc516651356'><span
style='mso-bookmark:_Toc38620090'>Спецификации исключительных ситуаций</span></span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Иногда возникает необходимость заранее указать, какие исключения могут
генерироваться в той или иной функции. Это можно сделать с <span class=GramE>помощью</span>
так называемой спецификации исключительных ситуаций. Это средство позволяет
указать в объявлении функции типы исключительных ситуаций, которые могут в ней
генерироваться. Синтаксически спецификация исключения является частью
заголовочной записи функции и имеет вид:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><b><span style='mso-bidi-font-size:
12.0pt'>объявление функции <span class=SpellE>throw</span>(тип<span
class=GramE>1</span>, тип2,…){тело функции}<o:p></o:p></span></b></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm'><span style='mso-bidi-font-size:12.0pt;
color:windowtext'>где тип<span class=GramE>1</span>, … - список типов, которые
может иметь выражение <span class=SpellE>throw</span> внутри функции. Если
список типов пуст, то компилятор полагает, что функцией не будет выполняться ни
какой <span class=SpellE>throw</span>.<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm'><span style='mso-bidi-font-size:12.0pt;
color:windowtext'><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>        </span></span><span class=GramE><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
color:windowtext;mso-ansi-language:EN-US'>void</span></span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";color:windowtext;
mso-ansi-language:EN-US'> fun(char c) throw();<o:p></o:p></span></p>

<p class=MsoBodyTextIndent style='margin-top:12.0pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-indent:36.0pt'><span
style='mso-bidi-font-size:12.0pt;color:windowtext'>Использование спецификации
исключительных ситуаций не означает, что в функции не может быть сгенерирована
исключительная ситуация некоторого не указанного в спецификации типа. Просто в
этом случае программа по умолчанию завершится, так как подобные действия
приведут к вызову неожиданного обработчика. Таким образом, когда функция
генерирует исключительную ситуацию, не описанную в спецификации, выполняется неожиданный
обработчик <span class=SpellE>unexpected</span>().<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc38620091"></a><a name="_Toc516651357"></a><a
name="_Toc516652102"></a><a name="_Toc519256618"></a><a name="_Toc54192050"></a><a
name="_Toc54192166"></a><a name="_Toc54192415"></a><a name="_Toc54192648"></a><a
name="_Toc54193392"></a><a name="_Toc54855932"></a><a name="_Toc54861111"></a><a
name="_Toc55028936"></a><a name="_Toc79847820"></a><a name="_Toc117269084"><span
style='mso-bookmark:_Toc79847820'><span style='mso-bookmark:_Toc55028936'><span
style='mso-bookmark:_Toc54861111'><span style='mso-bookmark:_Toc54855932'><span
style='mso-bookmark:_Toc54193392'><span style='mso-bookmark:_Toc54192648'><span
style='mso-bookmark:_Toc54192415'><span style='mso-bookmark:_Toc54192166'><span
style='mso-bookmark:_Toc54192050'><span style='mso-bookmark:_Toc519256618'><span
style='mso-bookmark:_Toc516652102'><span style='mso-bookmark:_Toc516651357'><span
style='mso-bookmark:_Toc38620091'>Задание собственного неожиданного обработчика</span></span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Так же как и обработчик <span class=SpellE>terminate</span>(),
обработчик <span class=SpellE>unexpected</span>() позволяет перед завершением
программы выполнить какие-то действия. Но в отличие от обработчика завершения
неожиданный обработчик может сам генерировать исключительные ситуации. Таким
образом, собственный неожиданный обработчик может сгенерировать исключительную
ситуацию, на этот раз уже входящую в спецификацию. Установка собственного
неожиданного обработчика выполняется с помощью функции <span class=SpellE>set_unexpected</span>().<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Приведенная ниже программа демонстрирует применение спецификации
исключений и перехват неожиданных исключительных ситуаций с помощью
собственного обработчика. <o:p></o:p></span></p>

<p class=MsoToc1 style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:36.0pt;text-indent:0cm'><span lang=EN-US style='font-family:"Courier New";
mso-ansi-language:EN-US'>#include &lt;<span class=SpellE>iostream.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>#include
&lt;exception&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> first</span></b><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> second : public
first</span></b><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>{};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> third : public first</span></b><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><b><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>class</span></b></span><b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>my_class</span></span></b><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>{};<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> <span class=SpellE>my_unexpected</span>()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span><span class=SpellE>cout</span></span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>&lt;&lt;&quot;<span class=SpellE>my_unexpected</span>
handler&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span></span><span class=SpellE><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'>throw</span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'> <span
class=SpellE>third</span>();<span style='mso-spacerun:yes'>                   
</span>//<span style='mso-spacerun:yes'>  </span>возбуждение исключения типа
объект<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>}<span
style='mso-spacerun:yes'>                                  </span><span
style='mso-spacerun:yes'>         </span>// класса<span
style='mso-spacerun:yes'>   </span><span class=SpellE>third</span></span></span><span
style='mso-bidi-font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'>void</span></span><span style='mso-bidi-font-size:
12.0pt;font-family:"Courier New"'> <span class=SpellE>f</span>(<span
class=SpellE>int</span> <span class=SpellE>i</span>)<span
style='mso-spacerun:yes'>  </span><span class=SpellE>throw</span>(<span
class=SpellE>first</span>)<span style='mso-spacerun:yes'>        </span>//
указание спецификации исключения<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span>if</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>(<span class=SpellE>i</span> ) throw second();<span
style='mso-spacerun:yes'>         </span>// <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>else</span> throw <span
class=SpellE>my_unexpected</span>(); <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>void</span></span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Courier New";mso-ansi-language:EN-US'> main()<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span class=GramE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-ansi-language:
EN-US'>{<span style='mso-spacerun:yes'>  </span><span class=SpellE>set</span></span></span><span
class=SpellE><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-ansi-language:EN-US'>_unexpected</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Courier New";
mso-ansi-language:EN-US'>(<span class=SpellE>my_unexpected</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>try<span
style='mso-spacerun:yes'>  </span>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>f(</span>1);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span>first)<span
style='mso-spacerun:yes'>  </span>{<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>           </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;first handler&quot;&lt;&lt;<span
class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span><span
class=SpellE>my_class</span>) {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>           </span><span class=SpellE><span
class=GramE>cout</span></span>&lt;&lt;&quot;<span class=SpellE>my_class</span>
handler&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>try{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=GramE>f(</span>0);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span>first)<span
style='mso-spacerun:yes'>  </span>{<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;&quot;first
handler&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=GramE>catch(</span><span
class=SpellE>my_class</span>) {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=SpellE><span class=GramE>cout</span></span>&lt;&lt;&quot;<span
class=SpellE>my_class</span> handler&quot;&lt;&lt;<span class=SpellE>endl</span>;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Courier New";mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Результат</span><span style='mso-bidi-font-size:12.0pt;mso-ansi-language:
EN-US'> </span><span style='mso-bidi-font-size:12.0pt'>выполнения</span><span
style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'> </span><span
style='mso-bidi-font-size:12.0pt'>программы</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>first handler<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span class=SpellE><span lang=EN-US
style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'>my_unexpected</span></span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'> handler<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>first handler<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>В данной программе вызов функции <span class=SpellE>f</span>() во
втором блоке <span class=SpellE>try</span> приводит к тому, что генерируется
исключительная ситуация, тип которой не указан в спецификации, поэтому
вызывается установленный нами неожиданный обработчик, где происходит генерация
исключения, которое успешно обрабатывается.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:12.0pt;margin-left:
0cm'><a name="_Toc516651358"></a><a name="_Toc516652103"></a><a
name="_Toc519256619"></a><a name="_Toc54192051"></a><a name="_Toc54192167"></a><a
name="_Toc54192416"></a><a name="_Toc54192649"></a><a name="_Toc54193393"></a><a
name="_Toc54855933"></a><a name="_Toc54861112"></a><a name="_Toc55028937"></a><a
name="_Toc79847821"></a><a name="_Toc117269085"><span style='mso-bookmark:_Toc79847821'><span
style='mso-bookmark:_Toc55028937'><span style='mso-bookmark:_Toc54861112'><span
style='mso-bookmark:_Toc54855933'><span style='mso-bookmark:_Toc54193393'><span
style='mso-bookmark:_Toc54192649'><span style='mso-bookmark:_Toc54192416'><span
style='mso-bookmark:_Toc54192167'><span style='mso-bookmark:_Toc54192051'><span
style='mso-bookmark:_Toc519256619'><span style='mso-bookmark:_Toc516652103'><span
style='mso-bookmark:_Toc516651358'>Иерархия исключений стандартной библиотеки</span></span></span></span></span></span></span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Вершиной иерархии является класс <span class=SpellE>exceptioh</span>
(определенный в заголовочном файле &lt;<span class=SpellE>exception</span>&gt;).
В этом классе содержится функция <span class=SpellE>what</span>(),
переопределяемая в каждом производном классе для выдачи сообщения об ошибке.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Непосредственными производными классами от класса <span class=SpellE>exception</span>
являются классы <span class=SpellE>runtime_error</span> и <span class=SpellE>logic_error</span>
<span class=GramE>( </span>определенные в заголовочном файле &lt;<span
class=SpellE>stdexcept</span>&gt;),<span style='mso-spacerun:yes'> 
</span>имеющие по несколько производных классов. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Производными от <span class=SpellE>exception</span> также являются
исключения: <span class=SpellE>bad_alloc</span>, генерируемое оператором <span
class=SpellE>new</span>, <span class=SpellE>bad_cast</span>, генерируемое <span
class=SpellE>dynamic_cast</span>, и <span class=SpellE>bad_typeid</span>,
генерируемое оператором <span class=SpellE>typeid</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Класс <span class=SpellE>logic_error</span> и производные от него
классы (<span class=SpellE>invalid_argument</span>, <span class=SpellE>length_error</span>,
<span class=SpellE>out_of_range</span>) указывают на логические ошибки
(передача неправильного аргумента функции, выход за пределы массива или
строки).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:36.0pt'><span style='mso-bidi-font-size:
12.0pt'>Класс <span class=SpellE>runtime_error</span> и производные от него (<span
class=SpellE>overflow_error</span> и <span class=SpellE>underflow_error</span>)
указывают на математические ошибки переполнения сверху и снизу.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:0cm'><span style='mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:12.0pt;margin-right:0cm;margin-bottom:
12.0pt;margin-left:0cm;text-indent:0cm'><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
